{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/mike/Desktop/Timetable-web/Components/TimetablePage/DownloadPopup.jsx"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport TimetableService from '../Services/TimetableService';\n\nconst DownloadPopup = ({ isOpen, onClose, activeDay, daysWithDates }) => {\n  const [selectedType, setSelectedType] = useState('day');\n  const [selectedEntityId, setSelectedEntityId] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const [downloadSuccess, setDownloadSuccess] = useState(null);\n  const [downloadAll, setDownloadAll] = useState(false);\n\n  // Data for dropdowns\n  const [lecturers, setLecturers] = useState([]);\n  const [classes, setClasses] = useState([]);\n  const [rooms, setRooms] = useState([]);\n\n  // Fetch data when component becomes visible\n  useEffect(() => {\n    if (isOpen) {\n      fetchEntities();\n    } else {\n      // Reset feedback message when component closes\n      setDownloadSuccess(null);\n    }\n  }, [isOpen]);\n\n  const fetchEntities = async () => {\n    setIsLoading(true);\n    try {\n      // Fetch all entity types in parallel\n      const [lecturersData, classesData, roomsData] = await Promise.all([\n        TimetableService.getLecturers(),\n        TimetableService.getClasses(),\n        TimetableService.getRooms()\n      ]);\n\n      setLecturers(lecturersData);\n      setClasses(classesData);\n      setRooms(roomsData);\n    } catch (error) {\n      console.error(\"Error fetching entities:\", error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleDownload = async () => {\n    if (isLoading) return;\n\n    setIsLoading(true);\n    setDownloadSuccess(null);\n\n    try {\n      const dayIndex = daysWithDates.findIndex(day => day.name === activeDay) + 1;\n\n      let entityName;\n      let entityId = selectedEntityId;\n      if (selectedType === 'day') {\n        entityName = activeDay;\n      } else if (selectedType === 'lecturer') {\n        if (downloadAll) {\n          entityId = 'all';\n          entityName = 'All Lecturers';\n        } else {\n          const lecturer = lecturers.find(l => l.lecturerId === parseInt(selectedEntityId));\n          entityName = `${lecturer.firstName} ${lecturer.lastName}`;\n        }\n      } else if (selectedType === 'class') {\n        if (downloadAll) {\n          entityId = 'all';\n          entityName = 'All Classes';\n        } else {\n          const cls = classes.find(c => c.classId === parseInt(selectedEntityId));\n          entityName = cls.classCode;\n        }\n      } else if (selectedType === 'room') {\n        const room = rooms.find(r => r.roomId === parseInt(selectedEntityId));\n        entityName = room.roomName;\n      }\n\n      const success = await TimetableService.downloadEntityTimetable(\n        selectedType,\n        entityId,\n        dayIndex,\n        entityName\n      );\n\n      setDownloadSuccess(success);\n      if (success) {\n        setTimeout(() => onClose(), 1500);\n      }\n    } catch (error) {\n      console.error(\"Error during download:\", error);\n      setDownloadSuccess(false);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  if (!isOpen) return null;\n\n  return (\n    <div\n      className={`\n        border-t border-b border-gray-200 bg-gray-50\n        transition-transform duration-300 ease-in-out\n        ${isOpen ? \"translate-y-0 opacity-100\" : \"-translate-y-4 opacity-0\"}\n      `}\n    >\n      <div className=\"px-4 py-4\">\n        {/* Header */}\n        <div className=\"flex justify-between items-center mb-4\">\n          <h3 className=\"text-lg font-medium text-gray-900\">\n            Download Timetable\n          </h3>\n          <button\n            onClick={onClose}\n            className=\"p-1 rounded-full text-gray-600 hover:bg-gray-100 hover:text-gray-500 transition-colors focus:outline-none\"\n          >\n            <span className=\"sr-only\">Close</span>\n            <svg className=\"h-5 w-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M6 18L18 6M6 6l12 12\" />\n            </svg>\n          </button>\n        </div>\n\n        <div className=\"space-y-4\">\n          {/* Download Options Tabs */}\n          <div className=\"flex space-x-2 border-b border-gray-200\">\n            <button\n              className={`px-3 py-2 text-sm font-medium rounded-t-md ${\n                selectedType === 'day' \n                  ? 'bg-indigo-100 text-indigo-700 border-b-2 border-indigo-700'\n                  : 'text-gray-600 hover:text-indigo-700'\n              }`}\n              onClick={() => {\n                setSelectedType('day');\n                setSelectedEntityId('');\n                setDownloadAll(false);\n              }}\n            >\n              Entire Day\n            </button>\n            <button\n              className={`px-3 py-2 text-sm font-medium rounded-t-md ${\n                selectedType === 'lecturer' \n                  ? 'bg-indigo-100 text-indigo-700 border-b-2 border-indigo-700'\n                  : 'text-gray-600 hover:text-indigo-700'\n              }`}\n              onClick={() => {\n                setSelectedType('lecturer');\n                setSelectedEntityId('');\n                setDownloadAll(false);\n              }}\n            >\n              Lecturer\n            </button>\n            <button\n              className={`px-3 py-2 text-sm font-medium rounded-t-md ${\n                selectedType === 'class' \n                  ? 'bg-indigo-100 text-indigo-700 border-b-2 border-indigo-700'\n                  : 'text-gray-600 hover:text-indigo-700'\n              }`}\n              onClick={() => {\n                setSelectedType('class');\n                setSelectedEntityId('');\n                setDownloadAll(false);\n              }}\n            >\n              Class\n            </button>\n            <button\n              className={`px-3 py-2 text-sm font-medium rounded-t-md ${\n                selectedType === 'room' \n                  ? 'bg-indigo-100 text-indigo-700 border-b-2 border-indigo-700'\n                  : 'text-gray-600 hover:text-indigo-700'\n              }`}\n              onClick={() => {\n                setSelectedType('room');\n                setSelectedEntityId('');\n                setDownloadAll(false);\n              }}\n            >\n              Room\n            </button>\n          </div>\n\n          {/* Selection Context */}\n          {selectedType === 'day' && (\n            <div className=\"bg-white p-3 rounded-md border border-gray-200\">\n              <div className=\"flex items-center mb-2\">\n                <svg className=\"h-5 w-5 text-indigo-600 mr-2\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\" />\n                </svg>\n                <span className=\"font-medium text-gray-700\">Selected Day: <span className=\"text-indigo-700\">{activeDay}</span></span>\n              </div>\n              <p className=\"text-sm text-gray-600\">You will download the timetable for the entire day.</p>\n            </div>\n          )}\n\n          {/* Dropdown */}\n          {selectedType === 'lecturer' && (\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Select Lecturer\n              </label>\n              <div className=\"flex items-center mb-2\">\n                <input\n                  type=\"checkbox\"\n                  id=\"downloadAllLecturers\"\n                  checked={downloadAll}\n                  onChange={(e) => setDownloadAll(e.target.checked)}\n                  className=\"mr-2\"\n                />\n                <label htmlFor=\"downloadAllLecturers\" className=\"text-sm text-gray-700\">\n                  Download for all lecturers\n                </label>\n              </div>\n              {!downloadAll && (\n                <select\n                  value={selectedEntityId}\n                  onChange={(e) => setSelectedEntityId(e.target.value)}\n                  className=\"w-full px-3 py-2 text-sm border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 bg-white text-gray-800\"\n                >\n                  <option value=\"\">-- Select --</option>\n                  {lecturers.map(lecturer => (\n                    <option key={lecturer.lecturerId} value={lecturer.lecturerId}>\n                      {lecturer.firstName} {lecturer.lastName}\n                    </option>\n                  ))}\n                </select>\n              )}\n            </div>\n          )}\n\n          {selectedType === 'class' && (\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Select Class\n              </label>\n              <div className=\"flex items-center mb-2\">\n                <input\n                  type=\"checkbox\"\n                  id=\"downloadAllClasses\"\n                  checked={downloadAll}\n                  onChange={(e) => setDownloadAll(e.target.checked)}\n                  className=\"mr-2\"\n                />\n                <label htmlFor=\"downloadAllClasses\" className=\"text-sm text-gray-700\">\n                  Download for all classes\n                </label>\n              </div>\n              {!downloadAll && (\n                <select\n                  value={selectedEntityId}\n                  onChange={(e) => setSelectedEntityId(e.target.value)}\n                  className=\"w-full px-3 py-2 text-sm border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 bg-white text-gray-800\"\n                >\n                  <option value=\"\">-- Select --</option>\n                  {classes.map(cls => (\n                    <option key={cls.classId} value={cls.classId}>\n                      {cls.classCode}\n                    </option>\n                  ))}\n                </select>\n              )}\n            </div>\n          )}\n\n          {selectedType === 'room' && (\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Select Room\n              </label>\n              <select\n                value={selectedEntityId}\n                onChange={(e) => setSelectedEntityId(e.target.value)}\n                className=\"w-full px-3 py-2 text-sm border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 bg-white text-gray-800\"\n              >\n                <option value=\"\">-- Select --</option>\n                {rooms.map(room => (\n                  <option key={room.roomId} value={room.roomId}>\n                    {room.roomName}\n                  </option>\n                ))}\n              </select>\n            </div>\n          )}\n\n          {/* Status Messages */}\n          {downloadSuccess === false && (\n            <div className=\"p-3 bg-red-50 border border-red-200 text-red-700 rounded-md flex items-center\">\n              <svg className=\"h-5 w-5 text-red-500 mr-2\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n              </svg>\n              Failed to download timetable. Please try again.\n            </div>\n          )}\n\n          {downloadSuccess === true && (\n            <div className=\"p-3 bg-green-50 border border-green-200 text-green-700 rounded-md flex items-center\">\n              <svg className=\"h-5 w-5 text-green-500 mr-2\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M5 13l4 4L19 7\" />\n              </svg>\n              Timetable downloaded successfully!\n            </div>\n          )}\n\n          {/* Action Buttons */}\n          <div className=\"flex justify-end pt-2\">\n            <button\n              type=\"button\"\n              onClick={onClose}\n              className=\"bg-white py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 mr-3\"\n            >\n              Cancel\n            </button>\n            <button\n              type=\"button\"\n              onClick={handleDownload}\n              disabled={isLoading || (selectedType !== 'day' && !selectedEntityId && !downloadAll)}\n              className={`\n                py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white \n                focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 flex items-center\n                ${isLoading ? 'bg-indigo-400 cursor-not-allowed' : 'bg-indigo-600 hover:bg-indigo-700'}\n                ${(selectedType !== 'day' && !selectedEntityId && !downloadAll) ? 'opacity-50 cursor-not-allowed' : ''}\n              `}\n            >\n              {isLoading ? (\n                <>\n                  <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2\"></div>\n                  Downloading...\n                </>\n              ) : (\n                <>\n                  <svg className=\"h-4 w-4 mr-2\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4\" />\n                  </svg>\n                  Download\n                </>\n              )}\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default DownloadPopup;"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 636, "column": 0}, "map": {"version":3,"sources":["file:///home/mike/Desktop/Timetable-web/Components/TimetablePage/timetable.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport TimetableService from \"../Services/TimetableService\";\nimport DownloadPopup from \"./DownloadPopup\";\n\nconst TimetablePage = () => {\n  const [timetable, setTimetable] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [filterText, setFilterText] = useState(\"\");\n  const [generationTime, setGenerationTime] = useState(0);\n  const [loadingStartTime, setLoadingStartTime] = useState(null);\n  const [elapsedLoadingTime, setElapsedLoadingTime] = useState(0);\n  // New state for download popup\n  const [downloadPopupOpen, setDownloadPopupOpen] = useState(false);\n\n  // Animation state\n  const [animate, setAnimate] = useState(false);\n  \n  // Get today's day name and set as active day\n  const getTodayDayName = () => {\n    const days = [\"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"];\n    const todayIndex = new Date().getDay();\n    // Adjust index to start from Monday (0 = Monday, 1 = Tuesday, ..., 5 = Saturday)\n    const adjustedIndex = (todayIndex === 0 ? 6 : todayIndex - 1);\n    return days[adjustedIndex];\n  };\n  \n  // Set today as active day\n  const [activeDay, setActiveDay] = useState(getTodayDayName());\n\n  // Get date for each day of the week\n  const getDatesForWeek = () => {\n    const today = new Date();\n    const currentDay = today.getDay(); // 0 = Sunday, 1 = Monday, etc.\n    const days = [\"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"];\n    \n    // Create array of day objects with names and dates\n    return days.map((day, index) => {\n      const diff = index - currentDay;\n      const date = new Date(today);\n      date.setDate(today.getDate() + diff);\n      \n      return {\n        name: day,\n        date: date,\n        dateFormatted: `${date.getDate()}/${date.getMonth() + 1}`\n      };\n    });\n  };\n  \n  const daysWithDates = getDatesForWeek();\n\n  useEffect(() => {\n    const fetchTimetable = async () => {\n      setLoading(true);\n      const data = await TimetableService.getTimetable();\n      setTimetable(data);\n      setLoading(false);\n      // Trigger animation when data loads\n      setTimeout(() => setAnimate(true), 100);\n    };\n    fetchTimetable();\n  }, []);\n\n  useEffect(() => {\n    // Reset animation when active day changes\n    setAnimate(false);\n    setTimeout(() => setAnimate(true), 50);\n  }, [activeDay]);\n\n  useEffect(() => {\n    let interval = null;\n    if (loadingStartTime) {\n      interval = setInterval(() => {\n        setElapsedLoadingTime(((Date.now() - loadingStartTime) / 1000).toFixed(2));\n      }, 100);\n    } else {\n      setElapsedLoadingTime(0);\n      clearInterval(interval);\n    }\n    return () => clearInterval(interval);\n  }, [loadingStartTime]);\n\n  const generateTimetable = async () => {\n    setLoading(true);\n    setLoadingStartTime(Date.now());\n    const startTime = Date.now();\n    await TimetableService.generateTimetable();\n    const data = await TimetableService.getTimetable();\n    setTimetable(data);\n    setLoading(false);\n    setLoadingStartTime(null);\n    const endTime = Date.now();\n    setGenerationTime(((endTime - startTime) / 1000).toFixed(2));\n    setTimeout(() => setAnimate(true), 100);\n  };\n\n  const refreshTimetable = async () => {\n    setLoading(true);\n    const data = await TimetableService.getTimetable();\n    setTimetable(data);\n    setLoading(false);\n    setTimeout(() => setAnimate(true), 100);\n  };\n\n  // Improved time mapping with more precise time slots\n  const timeSlots = [\n    { time24: \"07:00\", time12: \"7:00 AM\" },\n    { time24: \"08:00\", time12: \"8:00 AM\" },\n    { time24: \"09:00\", time12: \"9:00 AM\" },\n    { time24: \"10:00\", time12: \"10:00 AM\" },\n    { time24: \"11:00\", time12: \"11:00 AM\" },\n    { time24: \"12:00\", time12: \"12:00 PM\" },\n    { time24: \"13:00\", time12: \"1:00 PM\" },\n    { time24: \"14:00\", time12: \"2:00 PM\" },\n    { time24: \"15:00\", time12: \"3:00 PM\" },\n    { time24: \"16:00\", time12: \"4:00 PM\" },\n    { time24: \"17:00\", time12: \"5:00 PM\" },\n    { time24: \"18:00\", time12: \"6:00 PM\" },\n    { time24: \"19:00\", time12: \"7:00 PM\" },\n    { time24: \"20:00\", time12: \"8:00 PM\" },\n  ];\n\n// Get improved color scheme for entries\nconst getColorScheme = (courseName) => {\n  const colorPalette = [\n    { bg: \"bg-blue-50\", border: \"border-blue-500\", text: \"text-blue-800\" },\n    { bg: \"bg-green-50\", border: \"border-green-500\", text: \"text-green-800\" },\n    { bg: \"bg-purple-50\", border: \"border-purple-500\", text: \"text-purple-800\" },\n    { bg: \"bg-yellow-50\", border: \"border-yellow-500\", text: \"text-yellow-800\" },\n    { bg: \"bg-teal-50\", border: \"border-teal-500\", text: \"text-teal-800\" },\n    { bg: \"bg-indigo-50\", border: \"border-indigo-500\", text: \"text-indigo-800\" },\n    { bg: \"bg-cyan-50\", border: \"border-cyan-500\", text: \"text-cyan-800\" },\n    { bg: \"bg-emerald-50\", border: \"border-emerald-500\", text: \"text-emerald-800\" },\n    { bg: \"bg-lime-50\", border: \"border-lime-500\", text: \"text-lime-800\" },\n    { bg: \"bg-sky-50\", border: \"border-sky-500\", text: \"text-sky-800\" },\n    { bg: \"bg-violet-50\", border: \"border-violet-500\", text: \"text-violet-800\" },\n    { bg: \"bg-gray-50\", border: \"border-gray-500\", text: \"text-gray-800\" },\n    { bg: \"bg-stone-50\", border: \"border-stone-500\", text: \"text-stone-800\" },\n    { bg: \"bg-amber-50\", border: \"border-amber-500\", text: \"text-amber-800\" }, // Yellowish-orange\n    { bg: \"bg-fuchsia-50\", border: \"border-fuchsia-500\", text: \"text-fuchsia-800\" },\n  ];\n\n  // Create a consistent hash based on the course name\n  const hash = courseName.split(\"\").reduce((acc, char) => acc + char.charCodeAt(0), 0);\n  \n  // Assign a color based on the hash\n  return colorPalette[hash % colorPalette.length];\n};\n\n\n\n  // Filter timetable entries based on search text\n  const filteredTimetable = timetable.filter(entry => {\n    if (!filterText) return true;\n    \n    const searchText = filterText.toLowerCase();\n    return (\n      entry.courseName?.toLowerCase().includes(searchText) ||\n      entry.lecturerName?.toLowerCase().includes(searchText) ||\n      entry.roomName?.toLowerCase().includes(searchText) ||\n      entry.programName?.toLowerCase().includes(searchText) ||\n      entry.className?.toLowerCase().includes(searchText) ||\n      entry.periodName?.toLowerCase().includes(searchText)\n    );\n  });\n\n  // Group entries by start time for the active day\n  const groupedByTime = timeSlots.map(slot => {\n    const entriesAtTime = filteredTimetable.filter(\n      entry => entry.dayName === activeDay && entry.startTime === slot.time24\n    );\n    \n    return {\n      ...slot,\n      entries: entriesAtTime\n    };\n  }).filter(group => group.entries.length > 0);\n\n  // Render a single timetable entry card\n  const renderTimetableCard = (entry, index) => {\n    const colorScheme = getColorScheme(entry.courseName);\n    \n    // Calculate animation delay based on index\n    const animationDelay = `${index * 0.05}s`;\n    \n    return (\n      <div\n        key={`${entry.courseName}-${entry.roomName}-${index}`}\n        style={{ \n          animationDelay, \n          animationDuration: \"0.4s\",\n          opacity: animate ? 1 : 0,\n          transform: animate ? \"translateY(0)\" : \"translateY(20px)\"\n        }}\n        className={`\n          ${colorScheme.bg} ${colorScheme.text}\n          rounded-lg p-4 mb-3 border-l-4 ${colorScheme.border}\n          transition-all duration-300\n          animate-in fade-in slide-in-from-bottom\n          shadow-sm hover:shadow-md\n        `}\n      >\n        {/* Header Section with Course and Room */}\n        <div className=\"flex justify-between items-center mb-3\">\n          <h3 className=\"font-bold text-base flex-1 truncate\">{entry.courseName}</h3>\n          <span className=\"bg-white/80 text-gray-800 px-3 py-1 rounded-full text-xs font-medium ml-2 flex items-center\">\n            <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-3 w-3 mr-1\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4\" />\n            </svg>\n            {entry.roomName}\n          </span>\n        </div>\n        \n        {/* Middle Section with Lecturer */}\n        <div className=\"flex items-center text-sm mb-3 pb-2 border-b border-gray-200/30\">\n          <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-4 w-4 mr-2\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\" />\n          </svg>\n          <span className=\"font-medium\">{entry.lecturerName}</span>\n        </div>\n        \n        {/* Bottom Section with Class Details */}\n        <div className=\"flex justify-between items-center text-xs\">\n          <div className=\"flex items-center\">\n            <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-3 w-3 mr-1\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\" />\n            </svg>\n            <span className=\"font-medium\">{entry.className} - {entry.periodName}</span>\n          </div>\n          <div className=\"max-w-[50%] truncate text-right opacity-75\">\n            {entry.programName}\n          </div>\n        </div>\n      </div>\n    );\n  };\n\n  // Open the download popup\n  const handleOpenDownloadPopup = () => {\n    setDownloadPopupOpen((prev) => !prev); // Toggle the state\n  };\n\n  return (\n    <div className=\"bg-gray-50 min-h-screen p-4\">\n      {/* Clean, simplified container without nested shadows */}\n      <div className=\"w-full mx-auto bg-white border rounded-lg\">\n        {/* Header */}\n        <div className=\"p-4 border-b\">\n          <div className=\"flex flex-col lg:flex-row justify-between items-center gap-4\">\n            {/* Search bar */}\n            <div className=\"relative w-full lg:w-2/3\">\n              <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n                <svg className=\"h-5 w-5 text-gray-400\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                  <path fillRule=\"evenodd\" d=\"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z\" clipRule=\"evenodd\" />\n                </svg>\n              </div>\n              <input\n                type=\"text\"\n                placeholder=\"Filter timetable...\"\n                value={filterText}\n                onChange={(e) => setFilterText(e.target.value)}\n                className=\"pl-10 pr-4 py-2 w-full text-sm rounded-lg border border-gray-300 text-gray-800 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\"\n              />\n              {filterText && (\n                <button\n                  onClick={() => setFilterText(\"\")}\n                  className=\"absolute inset-y-0 right-0 pr-3 flex items-center\"\n                >\n                  <svg className=\"h-5 w-5 text-gray-400 hover:text-gray-600\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                    <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 101.414 1.414L10 11.414l1.293 1.293a1 1 001.414-1.414L11.414 10l1.293-1.293a1 1 00-1.414-1.414L10 8.586 8.707 7.293z\" clipRule=\"evenodd\" />\n                  </svg>\n                </button>\n              )}\n            </div>\n\n            {/* Action Buttons */}\n            <div className=\"flex flex-wrap gap-4 lg:w-1/3 justify-end\">\n              <button\n                onClick={generateTimetable}\n                disabled={loading}\n                className={`\n                  px-3 py-2 rounded-lg text-sm font-medium \n                  transition-all\n                  ${loading \n                    ? \"bg-gray-300 text-gray-500 cursor-not-allowed\" \n                    : \"bg-green-100 text-green-600 hover:bg-green-200\"\n                  }\n                `}\n              >\n                {loading ? \"Generating...\" : \"Generate\"}\n              </button>\n              <button\n                onClick={refreshTimetable}\n                disabled={loading}\n                className={`\n                  px-3 py-2 rounded-lg text-sm font-medium \n                  transition-all\n                  ${loading \n                    ? \"bg-gray-300 text-gray-500 cursor-not-allowed\" \n                    : \"bg-blue-100 text-blue-600 hover:bg-blue-200\"\n                  }\n                `}\n              >\n                {loading ? \"Refreshing...\" : \"Refresh\"}\n              </button>\n            </div>\n          </div>\n        </div>\n\n        {/* Day Tabs with Dates */}\n        <div className=\"flex overflow-x-auto border-b scrollbar-hide\">\n          <div className=\"flex\">\n            {daysWithDates.map(dayInfo => (\n              <button\n                key={dayInfo.name}\n                onClick={() => setActiveDay(dayInfo.name)}\n                className={`\n                  px-6 py-3 text-sm font-medium rounded-lg transition-all duration-200 \n                  flex flex-col items-center border-b-2 shadow-sm \n                  ${activeDay === dayInfo.name \n                    ? \"border-indigo-500 text-indigo-600 bg-indigo-100 shadow-md\" \n                    : \"border-transparent text-gray-600 hover:text-gray-900 hover:bg-gray-100\"\n                  }\n                `}\n              >\n                <span>{dayInfo.name}</span>\n                <span className=\"text-xs mt-1 opacity-80\">{dayInfo.dateFormatted}</span>\n              </button>\n            ))}\n          </div>\n          <div className=\"ml-auto\">\n            <button\n              type=\"button\"\n              onClick={handleOpenDownloadPopup}\n              className={`\n                p-3 rounded-md shadow-sm text-sm font-medium text-white \n                focus:outline-none  focus:ring-offset-2 focus:ring-indigo-500 flex items-center\n                ${downloadPopupOpen ? 'bg-indigo-400 cursor-not-allowed' : 'bg-indigo-600 hover:bg-indigo-700'}\n              `}\n            >\n              {downloadPopupOpen ? (\n                <>\n                  <svg className=\"h-4 w-4 mr-2\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M6 18L18 6M6 6l12 12\" />\n                  </svg>\n                  Hide Download\n                </>\n              ) : (\n                <>\n                  <svg className=\"h-4 w-4 mr-2\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4\" />\n                  </svg>\n                  Download\n                </>\n              )}\n            </button>\n          </div>\n        </div>\n\n        {/* Download Section - Now with animation */}\n        <div\n          className={`\n            transition-all duration-300 ease-in-out overflow-hidden\n            ${downloadPopupOpen ? \"max-h-screen opacity-100\" : \"max-h-0 opacity-0\"}\n          `}\n        >\n          {downloadPopupOpen && (\n            <DownloadPopup \n              isOpen={downloadPopupOpen}\n              onClose={() => setDownloadPopupOpen(false)}\n              activeDay={activeDay}\n              daysWithDates={daysWithDates}\n            />\n          )}\n        </div>\n\n        {/* Loading State */}\n        {loading && (\n          <div className=\"flex flex-col justify-center items-center h-64\">\n            {/* Clean loading indicator */}\n            <div className=\"flex flex-col items-center p-6\">\n              <div className=\"animate-spin rounded-full h-10 w-10 border-t-2 border-b-2 border-indigo-600\"></div>\n              {loadingStartTime && (\n                <div className=\"text-gray-600 text-sm mt-4 inline-flex items-center bg-indigo-50 px-3 py-1 rounded-full\">\n                  <svg className=\"h-4 w-4 mr-1 text-indigo-500\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                  </svg>\n                  <span>{elapsedLoadingTime}s</span>\n                </div>\n              )}\n            </div>\n          </div>\n        )}\n\n        {/* Empty States */}\n        {!loading && timetable.length === 0 && (\n          <div className=\"p-10 text-center\">\n            <p className=\"text-gray-500\">\n              No timetable data available. Click Generate or Refresh to load data.\n            </p>\n          </div>\n        )}\n\n        {!loading && timetable.length > 0 && filteredTimetable.filter(entry => entry.dayName === activeDay).length === 0 && (\n          <div className=\"p-10 text-center\">\n            <p className=\"text-gray-500\">\n              {filterText \n                ? \"No matching entries for this day. Try adjusting your filter.\"\n                : \"No classes scheduled for this day.\"}\n            </p>\n          </div>\n        )}\n\n        {/* Timetable Content */}\n        {!loading && filteredTimetable.filter(entry => entry.dayName === activeDay).length > 0 && (\n          <div className=\"p-4 transition-all duration-300\">\n            {groupedByTime.map((timeGroup) => (\n              <div key={timeGroup.time24} className=\"mb-6\">\n                {/* Time Header - Simple and clean */}\n                <div className=\"flex items-center mb-3\">\n                  <div className=\"w-8 h-8 rounded-full bg-indigo-100 flex items-center justify-center mr-3\">\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-4 w-4 text-indigo-600\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                    </svg>\n                  </div>\n                  <h3 className=\"text-md font-medium text-gray-800\">{timeGroup.time12}</h3>\n                </div>\n                \n                {/* Cards Grid */}\n                <div className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4\">\n                  {timeGroup.entries.map((entry, index) => \n                    renderTimetableCard(entry, index)\n                  )}\n                </div>\n              </div>\n            ))}\n          </div>\n        )}\n\n        {/* Generation Timer - Clean and minimal */}\n        {generationTime > 0 && (\n          <div className=\"border-t py-2 flex justify-center\">\n            <div className=\"text-sm text-gray-500 flex items-center\">\n              <svg className=\"h-4 w-4 mr-1 text-green-500\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 10V3L4 14h7v7l9-11h-7z\" />\n              </svg>\n              Generated in {generationTime}s\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* Download Popup */}\n      <DownloadPopup \n        isOpen={downloadPopupOpen}\n        onClose={() => setDownloadPopupOpen(false)}\n        activeDay={activeDay}\n        daysWithDates={daysWithDates}\n      />\n    </div>\n  );\n};\n\nexport default TimetablePage;"],"names":[],"mappings":"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","debugId":null}}]
}