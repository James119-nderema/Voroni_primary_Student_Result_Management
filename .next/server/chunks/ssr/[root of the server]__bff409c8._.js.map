{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 143, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Websites/https---github.com-James119-nderema-Timetable_Frontend/Components/FacultyPage/EditFaculty.jsx"],"sourcesContent":["'use client';\r\nimport axios from \"axios\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { useRouter, useParams } from \"next/navigation\";\r\n\r\nconst EditFaculty = () => {\r\n  const router = useRouter();\r\n  const { facultyId } = useParams();\r\n  const path = \"http://localhost:9921/faculty\";\r\n\r\n  const [facultyData, setFacultyData] = useState({ facultyName: \"\" });\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(\"\");\r\n  const [success, setSuccess] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const fetchFacultyDetails = async () => {\r\n      try {\r\n        const response = await axios.get(`${path}/${facultyId}`);\r\n        setFacultyData(response.data);\r\n      } catch (error) {\r\n        console.error(\"Error fetching faculty details:\", error);\r\n        setError(\"Failed to fetch faculty details.\");\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    if (facultyId) fetchFacultyDetails();\r\n  }, [facultyId]);\r\n\r\n  const handleChange = (e) => {\r\n    setFacultyData((prevData) => ({ ...prevData, [e.target.name]: e.target.value }));\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setError(\"\");\r\n    setSuccess(false);\r\n    setLoading(true);\r\n\r\n    try {\r\n      console.log(\"Sending data:\", facultyData);\r\n      const response = await axios.put(`${path}/${facultyId}`, facultyData, {\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n      });\r\n      console.log(\"Response:\", response.data);\r\n      setSuccess(true);\r\n      setTimeout(() => {\r\n        router.back();\r\n      }, 2000);\r\n    } catch (error) {\r\n      console.error(\"Error updating faculty:\", error.response?.data || error.message);\r\n      setError(\"Failed to update faculty.\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  if (loading) return <p className=\"text-center text-gray-500 font-semibold py-8\">Loading...</p>;\r\n  if (error) return <p className=\"text-center text-red-500 font-semibold py-8\">{error}</p>;\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50 p-6 flex items-center justify-center\">\r\n      <div className=\"max-w-2xl w-full bg-white shadow-md rounded-lg p-6\">\r\n        <h1 className=\"text-2xl font-semibold text-gray-900 mb-4\">Edit Faculty</h1>\r\n\r\n        {success && <p className=\"text-green-600\">Faculty updated successfully! Redirecting...</p>}\r\n        {error && <p className=\"text-red-600\">{error}</p>}\r\n\r\n        <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n          <label className=\"block text-sm font-medium text-gray-700\">\r\n            Faculty Name:\r\n            <input\r\n              type=\"text\"\r\n              name=\"facultyName\"\r\n              value={facultyData.facultyName}\r\n              onChange={handleChange}\r\n              className=\"mt-1 block w-full p-2 border border-gray-300 rounded-md\"\r\n              required\r\n            />\r\n          </label>\r\n\r\n          <div className=\"flex justify-end\">\r\n            <button\r\n              type=\"button\"\r\n              onClick={() => router.back()}\r\n              className=\"px-4 py-2 text-gray-700 bg-gray-200 rounded-md\"\r\n            >\r\n              Cancel\r\n            </button>\r\n            <button\r\n              type=\"submit\"\r\n              disabled={loading}\r\n              className=\"ml-3 px-4 py-2 text-white bg-indigo-600 rounded-md\"\r\n            >\r\n              {loading ? \"Saving...\" : \"Save Changes\"}\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EditFaculty;"],"names":[],"mappings":";;;;AACA;AACA;AACA;AAHA;;;;;AAKA,MAAM,cAAc;IAClB,MAAM,SAAS,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IACvB,MAAM,EAAE,SAAS,EAAE,GAAG,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IAC9B,MAAM,OAAO;IAEb,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;QAAE,aAAa;IAAG;IACjE,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACnC,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAEvC,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,MAAM,sBAAsB;YAC1B,IAAI;gBACF,MAAM,WAAW,MAAM,qIAAA,CAAA,UAAK,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC,EAAE,WAAW;gBACvD,eAAe,SAAS,IAAI;YAC9B,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,mCAAmC;gBACjD,SAAS;YACX,SAAU;gBACR,WAAW;YACb;QACF;QAEA,IAAI,WAAW;IACjB,GAAG;QAAC;KAAU;IAEd,MAAM,eAAe,CAAC;QACpB,eAAe,CAAC,WAAa,CAAC;gBAAE,GAAG,QAAQ;gBAAE,CAAC,EAAE,MAAM,CAAC,IAAI,CAAC,EAAE,EAAE,MAAM,CAAC,KAAK;YAAC,CAAC;IAChF;IAEA,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAChB,SAAS;QACT,WAAW;QACX,WAAW;QAEX,IAAI;YACF,QAAQ,GAAG,CAAC,iBAAiB;YAC7B,MAAM,WAAW,MAAM,qIAAA,CAAA,UAAK,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC,EAAE,WAAW,EAAE,aAAa;gBACpE,SAAS;oBACP,gBAAgB;gBAClB;YACF;YACA,QAAQ,GAAG,CAAC,aAAa,SAAS,IAAI;YACtC,WAAW;YACX,WAAW;gBACT,OAAO,IAAI;YACb,GAAG;QACL,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,2BAA2B,MAAM,QAAQ,EAAE,QAAQ,MAAM,OAAO;YAC9E,SAAS;QACX,SAAU;YACR,WAAW;QACb;IACF;IAEA,IAAI,SAAS,qBAAO,8OAAC;QAAE,WAAU;kBAA+C;;;;;;IAChF,IAAI,OAAO,qBAAO,8OAAC;QAAE,WAAU;kBAA+C;;;;;;IAE9E,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAG,WAAU;8BAA4C;;;;;;gBAEzD,yBAAW,8OAAC;oBAAE,WAAU;8BAAiB;;;;;;gBACzC,uBAAS,8OAAC;oBAAE,WAAU;8BAAgB;;;;;;8BAEvC,8OAAC;oBAAK,UAAU;oBAAc,WAAU;;sCACtC,8OAAC;4BAAM,WAAU;;gCAA0C;8CAEzD,8OAAC;oCACC,MAAK;oCACL,MAAK;oCACL,OAAO,YAAY,WAAW;oCAC9B,UAAU;oCACV,WAAU;oCACV,QAAQ;;;;;;;;;;;;sCAIZ,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCACC,MAAK;oCACL,SAAS,IAAM,OAAO,IAAI;oCAC1B,WAAU;8CACX;;;;;;8CAGD,8OAAC;oCACC,MAAK;oCACL,UAAU;oCACV,WAAU;8CAET,UAAU,cAAc;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOvC;uCAEe","debugId":null}},
    {"offset": {"line": 330, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 336, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Websites/https---github.com-James119-nderema-Timetable_Frontend/app/faculty/Edit/%5BfacultyId%5D/page.js"],"sourcesContent":["'use client';\r\nimport EditFaculty from \"@/Components/FacultyPage/EditFaculty\";\r\n\r\nexport default function EditFacultyPage() {\r\n  return < EditFaculty/>;\r\n}"],"names":[],"mappings":";;;;AACA;AADA;;;AAGe,SAAS;IACtB,qBAAO,8OAAE,yIAAA,CAAA,UAAW;;;;;AACtB","debugId":null}},
    {"offset": {"line": 351, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}