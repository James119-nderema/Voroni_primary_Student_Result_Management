{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Websites/https---github.com-James119-nderema-Timetable_Frontend/Components/ClassesPage/classes.jsx"],"sourcesContent":["'use client';\r\nimport axios from \"axios\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { useRouter } from 'next/navigation';\r\n\r\nconst fetchClasses = async () => {\r\n  try {\r\n    const response = await axios.get(\"http://localhost:9921/classes\");\r\n    console.log(\"Fetched classes:\", response.data);\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error(\"Error fetching classes:\", error);\r\n    return [];\r\n  }\r\n};\r\n\r\nconst AddClasses = () => {\r\n  const [classes, setClasses] = useState([]);\r\n  const [filteredClasses, setFilteredClasses] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [activeCategory, setActiveCategory] = useState(\"All Classes\");\r\n  const router = useRouter();\r\n\r\n  useEffect(() => {\r\n    const getClasses = async () => {\r\n      const data = await fetchClasses();\r\n      setClasses(data);\r\n      setFilteredClasses(data);\r\n      setLoading(false);\r\n    };\r\n    getClasses();\r\n  }, []);\r\n\r\n  const handleCategoryClick = (category) => {\r\n    setActiveCategory(category);\r\n    if (category === \"All Classes\") {\r\n      setFilteredClasses(classes);\r\n    } else {\r\n      const filtered = classes.filter((classDetail) => classDetail.size === category);\r\n      setFilteredClasses(filtered);\r\n    }\r\n  };\r\n\r\n  const handleDeleteClass = async (classId) => {\r\n    try {\r\n      await axios.delete(`http://localhost:9921/class/${classId}`);\r\n      const updatedClasses = classes.filter((classDetail) => classDetail.classId !== classId);\r\n      setClasses(updatedClasses);\r\n      setFilteredClasses(updatedClasses);\r\n    } catch (error) {\r\n      console.error(\"Error deleting class:\", error);\r\n    }\r\n  };\r\n\r\n  const handleEditClass = (classId) => {\r\n    router.push(`/class_details/edit/${classId}`);\r\n  };\r\n\r\n  return (\r\n    <div className=\"p-4 sm:p-6\">\r\n      <div className=\"mb-6 flex flex-col sm:flex-row justify-between items-center\">\r\n        <div>\r\n          <h3 className=\"text-lg text-green-900 font-semibold\">Class Management</h3>\r\n          <p className=\"text-sm text-gray-500\">Manage and monitor all available classes</p>\r\n        </div>\r\n        <button\r\n          onClick={() => router.push('/class_details/add')}\r\n          className=\"mt-2 sm:mt-0 px-4 py-2 bg-indigo-600 text-white rounded-md text-sm font-medium hover:bg-indigo-700\"\r\n        >\r\n          Add New Classes\r\n        </button>\r\n      </div>\r\n\r\n      <div className=\"bg-white rounded-lg shadow-md overflow-hidden\">\r\n        <div className=\"p-4 border-b flex flex-wrap gap-2 sm:gap-4\">\r\n          {[\"All Classes\"].map((category) => (\r\n            <button\r\n              key={category}\r\n              className={`px-3 py-1 rounded-md text-sm font-medium ${\r\n                activeCategory === category\r\n                  ? \"bg-indigo-100 text-indigo-600\"\r\n                  : \"bg-gray-100 text-gray-600 hover:bg-gray-200\"\r\n              }`}\r\n              onClick={() => handleCategoryClick(category)}\r\n            >\r\n              {category}\r\n            </button>\r\n          ))}\r\n        </div>\r\n\r\n        {loading ? (\r\n          <div className=\"p-4 text-center text-gray-500\">Loading classes...</div>\r\n        ) : (\r\n          <div className=\"overflow-x-auto\">\r\n            <table className=\"min-w-full divide-y divide-gray-200\">\r\n              <thead className=\"bg-gray-50\">\r\n                <tr>\r\n                  {['Class ID', 'Class Code', 'Class Size', 'Year', 'Semester','Program ID', 'Actions'].map((heading) => (\r\n                    <th key={heading} className=\"px-4 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                      {heading}\r\n                    </th>\r\n                  ))}\r\n                </tr>\r\n              </thead>\r\n              <tbody className=\"bg-white divide-y divide-gray-200\">\r\n                {filteredClasses.length > 0 ? (\r\n                  filteredClasses.map((classDetail) => (\r\n                    <tr key={classDetail.classId}>\r\n                      <td className=\"px-4 sm:px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\">\r\n                        {classDetail.classId}\r\n                      </td>\r\n                      <td className=\"px-4 sm:px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n                        {classDetail.classCode}\r\n                      </td>\r\n                      <td className=\"px-4 sm:px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n                        {classDetail.size}\r\n                      </td>\r\n                      <td className=\"px-4 sm:px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n                        {classDetail.yearId}\r\n                      </td>\r\n                      <td className=\"px-4 sm:px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n                        {classDetail.semesterId}\r\n                      </td>\r\n                      <td className=\"px-4 sm:px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n                        {classDetail.programId}\r\n                      </td>\r\n                      <td className=\"px-4 sm:px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n                        <div className=\"flex flex-col sm:flex-row gap-2\">\r\n                          <button className=\"text-indigo-600 hover:text-indigo-900\" onClick={() => handleEditClass(classDetail.classId)}>Edit</button>\r\n                          <button className=\"text-red-600 hover:text-red-900\" onClick={() => handleDeleteClass(classDetail.classId)}>Delete</button>\r\n                        </div>\r\n                      </td>\r\n                    </tr>\r\n                  ))\r\n                ) : (\r\n                  <tr>\r\n                    <td colSpan=\"6\" className=\"px-4 sm:px-6 py-4 text-center text-gray-500\">\r\n                      No classes found.\r\n                    </td>\r\n                  </tr>\r\n                )}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AddClasses;\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 326, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}