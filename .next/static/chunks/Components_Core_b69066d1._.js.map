{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Websites/Timetable-web/Components/Core/DashboardPage/DailyUtilizationChart.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer } from 'recharts';\r\nimport { fetchDaySummary } from '../../Services/dashboardService'; // Import the fetchDaySummary function\r\n\r\nconst DailyUtilizationChart = () => {\r\n  const [data, setData] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      const summaryData = await fetchDaySummary(); // Fetch data from the API\r\n      setData(summaryData); // Update the state with the fetched data\r\n    };\r\n    fetchData();\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"flex flex-col h-full\">\r\n      <div className=\"mb-4\">\r\n        <h3 className=\"text-lg font-semibold text-gray-800 mb-2\">Daily Resource Usage</h3>\r\n        <p className=\"text-sm text-gray-500\">\r\n          This chart shows the daily distribution of lecturers, classes, and room utilization across the week.\r\n          Higher bars indicate higher resource usage for that particular day.\r\n        </p>\r\n      </div>\r\n      <div className=\"flex-grow\">\r\n        <ResponsiveContainer width=\"100%\" height=\"100%\">\r\n          <BarChart\r\n            data={data}\r\n            margin={{ top: 10, right: 20, left: 10, bottom: 10 }}\r\n          >\r\n            <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#e5e7eb\" />\r\n            <XAxis \r\n              dataKey=\"day\" \r\n              tick={{ fontSize: 10, fill: '#000000' }} // Ensure day labels are black\r\n              tickLine={false} \r\n              axisLine={{ stroke: '#d1d5db' }} \r\n              interval={0} // Force all days to display\r\n            />\r\n            <YAxis \r\n              tick={{ fontSize: 10, fill: '#000000' }} \r\n              tickLine={false} \r\n              axisLine={{ stroke: '#d1d5db' }} \r\n            />\r\n            <Tooltip \r\n              contentStyle={{ backgroundColor: '#f9fafb', border: '1px solid #e5e7eb', borderRadius: '4px' }} \r\n              itemStyle={{ fontSize: 10, color: '#000000' }} \r\n              labelStyle={{ fontSize: 12, color: '#000000', fontWeight: 'bold' }} \r\n            />\r\n            <Legend \r\n              wrapperStyle={{ fontSize: 10, color: '#6b7280' }} \r\n              iconType=\"circle\" \r\n            />\r\n            <Bar dataKey=\"lecturers\" name=\"Lecturers\" fill=\"#3b82f6\" radius={[4, 4, 0, 0]} />\r\n            <Bar dataKey=\"classes\" name=\"Classes\" fill=\"#10b981\" radius={[4, 4, 0, 0]} />\r\n            <Bar dataKey=\"rooms\" name=\"Rooms\" fill=\"#f59e0b\" radius={[4, 4, 0, 0]} />\r\n          </BarChart>\r\n        </ResponsiveContainer>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DailyUtilizationChart;"],"names":[],"mappings":";;;;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,4PAAmE,sCAAsC;;;;;;AAEzG,MAAM,wBAAwB;;IAC5B,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE,EAAE;IAEnC,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;2CAAE;YACR,MAAM;6DAAY;oBAChB,MAAM,cAAc,MAAM,CAAA,GAAA,6IAAA,CAAA,kBAAe,AAAD,KAAK,0BAA0B;oBACvE,QAAQ,cAAc,yCAAyC;gBACjE;;YACA;QACF;0CAAG,EAAE;IAEL,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAG,WAAU;kCAA2C;;;;;;kCACzD,6LAAC;wBAAE,WAAU;kCAAwB;;;;;;;;;;;;0BAKvC,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC,sKAAA,CAAA,sBAAmB;oBAAC,OAAM;oBAAO,QAAO;8BACvC,cAAA,6LAAC,uJAAA,CAAA,WAAQ;wBACP,MAAM;wBACN,QAAQ;4BAAE,KAAK;4BAAI,OAAO;4BAAI,MAAM;4BAAI,QAAQ;wBAAG;;0CAEnD,6LAAC,gKAAA,CAAA,gBAAa;gCAAC,iBAAgB;gCAAM,QAAO;;;;;;0CAC5C,6LAAC,wJAAA,CAAA,QAAK;gCACJ,SAAQ;gCACR,MAAM;oCAAE,UAAU;oCAAI,MAAM;gCAAU;gCACtC,UAAU;gCACV,UAAU;oCAAE,QAAQ;gCAAU;gCAC9B,UAAU;;;;;;0CAEZ,6LAAC,wJAAA,CAAA,QAAK;gCACJ,MAAM;oCAAE,UAAU;oCAAI,MAAM;gCAAU;gCACtC,UAAU;gCACV,UAAU;oCAAE,QAAQ;gCAAU;;;;;;0CAEhC,6LAAC,0JAAA,CAAA,UAAO;gCACN,cAAc;oCAAE,iBAAiB;oCAAW,QAAQ;oCAAqB,cAAc;gCAAM;gCAC7F,WAAW;oCAAE,UAAU;oCAAI,OAAO;gCAAU;gCAC5C,YAAY;oCAAE,UAAU;oCAAI,OAAO;oCAAW,YAAY;gCAAO;;;;;;0CAEnE,6LAAC,yJAAA,CAAA,SAAM;gCACL,cAAc;oCAAE,UAAU;oCAAI,OAAO;gCAAU;gCAC/C,UAAS;;;;;;0CAEX,6LAAC,sJAAA,CAAA,MAAG;gCAAC,SAAQ;gCAAY,MAAK;gCAAY,MAAK;gCAAU,QAAQ;oCAAC;oCAAG;oCAAG;oCAAG;iCAAE;;;;;;0CAC7E,6LAAC,sJAAA,CAAA,MAAG;gCAAC,SAAQ;gCAAU,MAAK;gCAAU,MAAK;gCAAU,QAAQ;oCAAC;oCAAG;oCAAG;oCAAG;iCAAE;;;;;;0CACzE,6LAAC,sJAAA,CAAA,MAAG;gCAAC,SAAQ;gCAAQ,MAAK;gCAAQ,MAAK;gCAAU,QAAQ;oCAAC;oCAAG;oCAAG;oCAAG;iCAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMjF;GAxDM;KAAA;uCA0DS","debugId":null}},
    {"offset": {"line": 233, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Websites/Timetable-web/Components/Core/DashboardPage/StatCards.jsx"],"sourcesContent":["import React from 'react';\r\nimport { BookOpen, Users, Award, Calendar } from 'lucide-react';\r\n\r\nconst StatCards = ({ dashboardData }) => {\r\n  return (\r\n    <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8\">\r\n      <div className=\"bg-white rounded-xl shadow-sm p-6 border-l-4 border-blue-500 h-[120px] flex items-center\">\r\n        <div className=\"flex justify-between items-center w-full\">\r\n          <div>\r\n            <p className=\"text-sm font-medium text-gray-500 mb-2\">Total Classes</p>\r\n            <h3 className=\"text-3xl font-extrabold text-gray-800\">{dashboardData.totalClasses}</h3>\r\n          </div>\r\n          <div className=\"p-3 rounded-lg bg-blue-50 text-blue-500\">\r\n            <BookOpen size={24} />\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \r\n      <div className=\"bg-white rounded-xl shadow-sm p-6 border-l-4 border-green-500 h-[120px] flex items-center\">\r\n        <div className=\"flex justify-between items-center w-full\">\r\n          <div>\r\n            <p className=\"text-sm font-medium text-gray-500 mb-2\">Active Lecturers</p>\r\n            <h3 className=\"text-3xl font-extrabold text-gray-800\">{dashboardData.activeLecturers}</h3>\r\n          </div>\r\n          <div className=\"p-3 rounded-lg bg-green-50 text-green-500\">\r\n            <Users size={24} />\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \r\n      <div className=\"bg-white rounded-xl shadow-sm p-6 border-l-4 border-purple-500 h-[120px] flex items-center\">\r\n        <div className=\"flex justify-between items-center w-full\">\r\n          <div>\r\n            <p className=\"text-sm font-medium text-gray-500 mb-2\">Total Rooms</p>\r\n            <h3 className=\"text-3xl font-extrabold text-gray-800\">{dashboardData.totalRooms}</h3>\r\n          </div>\r\n          <div className=\"p-3 rounded-lg bg-purple-50 text-purple-500\">\r\n            <Award size={24} />\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \r\n      <div className=\"bg-white rounded-xl shadow-sm p-6 border-l-4 border-red-500 h-[120px] flex items-center\">\r\n        <div className=\"flex justify-between items-center w-full\">\r\n          <div>\r\n            <p className=\"text-sm font-medium text-gray-500 mb-2\">Timetables</p>\r\n            <h3 className=\"text-3xl font-extrabold text-gray-800\">{dashboardData.totalTimetables}</h3>\r\n          </div>\r\n          <div className=\"p-3 rounded-lg bg-red-50 text-red-500\">\r\n            <Calendar size={24} />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default StatCards;"],"names":[],"mappings":";;;;AAAA;AACA;AAAA;AAAA;AAAA;;;;AAEA,MAAM,YAAY,CAAC,EAAE,aAAa,EAAE;IAClC,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;;8CACC,6LAAC;oCAAE,WAAU;8CAAyC;;;;;;8CACtD,6LAAC;oCAAG,WAAU;8CAAyC,cAAc,YAAY;;;;;;;;;;;;sCAEnF,6LAAC;4BAAI,WAAU;sCACb,cAAA,6LAAC,iNAAA,CAAA,WAAQ;gCAAC,MAAM;;;;;;;;;;;;;;;;;;;;;;0BAKtB,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;;8CACC,6LAAC;oCAAE,WAAU;8CAAyC;;;;;;8CACtD,6LAAC;oCAAG,WAAU;8CAAyC,cAAc,eAAe;;;;;;;;;;;;sCAEtF,6LAAC;4BAAI,WAAU;sCACb,cAAA,6LAAC,uMAAA,CAAA,QAAK;gCAAC,MAAM;;;;;;;;;;;;;;;;;;;;;;0BAKnB,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;;8CACC,6LAAC;oCAAE,WAAU;8CAAyC;;;;;;8CACtD,6LAAC;oCAAG,WAAU;8CAAyC,cAAc,UAAU;;;;;;;;;;;;sCAEjF,6LAAC;4BAAI,WAAU;sCACb,cAAA,6LAAC,uMAAA,CAAA,QAAK;gCAAC,MAAM;;;;;;;;;;;;;;;;;;;;;;0BAKnB,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;;8CACC,6LAAC;oCAAE,WAAU;8CAAyC;;;;;;8CACtD,6LAAC;oCAAG,WAAU;8CAAyC,cAAc,eAAe;;;;;;;;;;;;sCAEtF,6LAAC;4BAAI,WAAU;sCACb,cAAA,6LAAC,6MAAA,CAAA,WAAQ;gCAAC,MAAM;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAM5B;KApDM;uCAsDS","debugId":null}},
    {"offset": {"line": 485, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Websites/Timetable-web/Components/Core/DashboardPage/Schedules.jsx"],"sourcesContent":["import React from 'react';\r\nimport { Clock, Calendar, MapPin, User } from 'lucide-react';\r\n\r\nconst Schedules = ({ schedules }) => {\r\n  // Sort schedules by startTime in 24-hour format\r\n  const sortedSchedules = [...schedules].sort((a, b) => {\r\n    const [hoursA, minutesA] = (a.startTime || '00:00').split(':').map(Number);\r\n    const [hoursB, minutesB] = (b.startTime || '00:00').split(':').map(Number);\r\n    return hoursA * 60 + minutesA - (hoursB * 60 + minutesB);\r\n  });\r\n\r\n  // Format current date\r\n  const today = new Date();\r\n  const formattedDate = today.toLocaleDateString('en-US', {\r\n    weekday: 'long',\r\n    month: 'short',\r\n    day: 'numeric'\r\n  });\r\n\r\n  // Get current time to highlight current/upcoming classes\r\n  const currentHour = today.getHours();\r\n  const currentMinute = today.getMinutes();\r\n  const currentTotalMinutes = currentHour * 60 + currentMinute;\r\n\r\n  // Helper function to determine class status\r\n  const getClassStatus = (timeString) => {\r\n    if (!timeString) return { status: 'upcoming', label: 'Upcoming' };\r\n    \r\n    const [hours, minutes] = timeString.split(':').map(Number);\r\n    const classTotalMinutes = hours * 60 + minutes;\r\n    \r\n    // Assuming each class is 1 hour\r\n    if (classTotalMinutes + 60 < currentTotalMinutes) {\r\n      return { status: 'completed', label: 'Completed' };\r\n    } else if (classTotalMinutes <= currentTotalMinutes) {\r\n      return { status: 'ongoing', label: 'Ongoing' };\r\n    } else {\r\n      return { status: 'upcoming', label: 'Upcoming' };\r\n    }\r\n  };\r\n\r\n  // Get time period (AM/PM)\r\n  const getTimePeriod = (timeString) => {\r\n    if (!timeString) return 'AM';\r\n    const hours = parseInt(timeString.split(':')[0]);\r\n    return hours >= 12 ? 'PM' : 'AM';\r\n  };\r\n\r\n  // Format time to 12-hour format\r\n  const formatTime = (timeString) => {\r\n    if (!timeString) return '10:00';\r\n    const [hours, minutes] = timeString.split(':');\r\n    const hourNum = parseInt(hours);\r\n    return `${hourNum % 12 || 12}:${minutes}`;\r\n  };\r\n\r\n  // Get class color based on subject or index\r\n  const getClassColor = (schedule, index) => {\r\n    const className = schedule.className || schedule.title || '';\r\n    \r\n    if (className.toLowerCase().includes('math')) return 'bg-purple-500';\r\n    if (className.toLowerCase().includes('science') || className.toLowerCase().includes('computer')) return 'bg-blue-500';\r\n    if (className.toLowerCase().includes('english') || className.toLowerCase().includes('literature')) return 'bg-green-500';\r\n    if (className.toLowerCase().includes('history')) return 'bg-amber-500';\r\n    \r\n    // Fallback to rotating colors\r\n    const colors = ['bg-blue-500', 'bg-purple-500', 'bg-green-500', 'bg-amber-500', 'bg-rose-500'];\r\n    return colors[index % colors.length];\r\n  };\r\n\r\n  return (\r\n    <div className=\"bg-white rounded-xl shadow-sm p-6 border border-gray-100\">\r\n      <div className=\"flex justify-between items-center mb-6\">\r\n        <div>\r\n          <h3 className=\"font-bold text-gray-800 text-lg\">Today's Schedule</h3>\r\n          <p className=\"text-sm text-gray-500 mt-1\">{sortedSchedules.length} total classes</p>\r\n        </div>\r\n        <div className=\"flex items-center px-3 py-1 bg-blue-50 text-blue-700 rounded-full\">\r\n          <Clock size={14} className=\"mr-2\" />\r\n          <span className=\"text-sm font-medium\">{formattedDate}</span>\r\n        </div>\r\n      </div>\r\n      \r\n      <div className=\"space-y-4 max-h-96 overflow-y-auto pr-1 scrollbar-thin\">\r\n        {sortedSchedules.length > 0 ? (\r\n          sortedSchedules.map((schedule, index) => {\r\n            const { status, label } = getClassStatus(schedule.startTime);\r\n            const statusColor = \r\n              status === 'ongoing' ? 'bg-green-100 text-green-700 border-green-200' :\r\n              status === 'completed' ? 'bg-gray-100 text-gray-500 border-gray-200' :\r\n              'bg-blue-50 text-blue-700 border-blue-200';\r\n            \r\n            return (\r\n              <div\r\n                key={index}\r\n                className={`flex items-center p-4 rounded-xl border transition-all hover:shadow-md ${\r\n                  status === 'completed' ? 'bg-gray-50 border-gray-200' : 'bg-white border-gray-200'\r\n                }`}\r\n              >\r\n                <div className={`min-w-16 h-16 flex flex-col items-center justify-center rounded-lg ${getClassColor(schedule, index).replace('bg-', 'bg-opacity-10 text-').replace('-500', '-700')} ${getClassColor(schedule, index).replace('-500', '-50')}`}>\r\n                  <span className=\"text-base font-bold text-indigo-500\">{formatTime(schedule.startTime || '10:00')}</span>\r\n                  <p className=\"text-xs text-indigo-500\">{getTimePeriod(schedule.startTime)}</p>\r\n                </div>\r\n                \r\n                <div className=\"ml-4 flex-1\">\r\n                  <div className=\"flex items-center mb-1\">\r\n                    <h4 className=\"text-sm font-semibold text-gray-800\">\r\n                      {schedule.className || schedule.title || 'Computer Science'}\r\n                    </h4>\r\n                    <span className={`ml-2 text-xs px-2 py-0.5 rounded-full ${statusColor}`}>\r\n                      {label}\r\n                    </span>\r\n                  </div>\r\n                  \r\n                  <div className=\"flex items-center text-xs text-gray-500 space-x-3\">\r\n                    <div className=\"flex items-center\">\r\n                      <User size={12} className=\"mr-1\" />\r\n                      <span>{schedule.lecturerName || 'Dr. Smith'}</span>\r\n                    </div>\r\n                    <div className=\"flex items-center\">\r\n                      <MapPin size={12} className=\"mr-1\" />\r\n                      <span>Room {schedule.roomName || 'LH1'}</span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                \r\n                <div className=\"ml-2\">\r\n                  <div className={`h-3 w-3 rounded-full ${getClassColor(schedule, index)}`}></div>\r\n                </div>\r\n              </div>\r\n            );\r\n          })\r\n        ) : (\r\n          <div className=\"text-center py-12 bg-gray-50 rounded-xl border border-dashed border-gray-300\">\r\n            <Calendar className=\"mx-auto h-12 w-12 text-gray-400\" />\r\n            <p className=\"mt-3 text-sm font-medium text-gray-500\">No classes scheduled for today</p>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Schedules;"],"names":[],"mappings":";;;;AAAA;AACA;AAAA;AAAA;AAAA;;;;AAEA,MAAM,YAAY,CAAC,EAAE,SAAS,EAAE;IAC9B,gDAAgD;IAChD,MAAM,kBAAkB;WAAI;KAAU,CAAC,IAAI,CAAC,CAAC,GAAG;QAC9C,MAAM,CAAC,QAAQ,SAAS,GAAG,CAAC,EAAE,SAAS,IAAI,OAAO,EAAE,KAAK,CAAC,KAAK,GAAG,CAAC;QACnE,MAAM,CAAC,QAAQ,SAAS,GAAG,CAAC,EAAE,SAAS,IAAI,OAAO,EAAE,KAAK,CAAC,KAAK,GAAG,CAAC;QACnE,OAAO,SAAS,KAAK,WAAW,CAAC,SAAS,KAAK,QAAQ;IACzD;IAEA,sBAAsB;IACtB,MAAM,QAAQ,IAAI;IAClB,MAAM,gBAAgB,MAAM,kBAAkB,CAAC,SAAS;QACtD,SAAS;QACT,OAAO;QACP,KAAK;IACP;IAEA,yDAAyD;IACzD,MAAM,cAAc,MAAM,QAAQ;IAClC,MAAM,gBAAgB,MAAM,UAAU;IACtC,MAAM,sBAAsB,cAAc,KAAK;IAE/C,4CAA4C;IAC5C,MAAM,iBAAiB,CAAC;QACtB,IAAI,CAAC,YAAY,OAAO;YAAE,QAAQ;YAAY,OAAO;QAAW;QAEhE,MAAM,CAAC,OAAO,QAAQ,GAAG,WAAW,KAAK,CAAC,KAAK,GAAG,CAAC;QACnD,MAAM,oBAAoB,QAAQ,KAAK;QAEvC,gCAAgC;QAChC,IAAI,oBAAoB,KAAK,qBAAqB;YAChD,OAAO;gBAAE,QAAQ;gBAAa,OAAO;YAAY;QACnD,OAAO,IAAI,qBAAqB,qBAAqB;YACnD,OAAO;gBAAE,QAAQ;gBAAW,OAAO;YAAU;QAC/C,OAAO;YACL,OAAO;gBAAE,QAAQ;gBAAY,OAAO;YAAW;QACjD;IACF;IAEA,0BAA0B;IAC1B,MAAM,gBAAgB,CAAC;QACrB,IAAI,CAAC,YAAY,OAAO;QACxB,MAAM,QAAQ,SAAS,WAAW,KAAK,CAAC,IAAI,CAAC,EAAE;QAC/C,OAAO,SAAS,KAAK,OAAO;IAC9B;IAEA,gCAAgC;IAChC,MAAM,aAAa,CAAC;QAClB,IAAI,CAAC,YAAY,OAAO;QACxB,MAAM,CAAC,OAAO,QAAQ,GAAG,WAAW,KAAK,CAAC;QAC1C,MAAM,UAAU,SAAS;QACzB,OAAO,GAAG,UAAU,MAAM,GAAG,CAAC,EAAE,SAAS;IAC3C;IAEA,4CAA4C;IAC5C,MAAM,gBAAgB,CAAC,UAAU;QAC/B,MAAM,YAAY,SAAS,SAAS,IAAI,SAAS,KAAK,IAAI;QAE1D,IAAI,UAAU,WAAW,GAAG,QAAQ,CAAC,SAAS,OAAO;QACrD,IAAI,UAAU,WAAW,GAAG,QAAQ,CAAC,cAAc,UAAU,WAAW,GAAG,QAAQ,CAAC,aAAa,OAAO;QACxG,IAAI,UAAU,WAAW,GAAG,QAAQ,CAAC,cAAc,UAAU,WAAW,GAAG,QAAQ,CAAC,eAAe,OAAO;QAC1G,IAAI,UAAU,WAAW,GAAG,QAAQ,CAAC,YAAY,OAAO;QAExD,8BAA8B;QAC9B,MAAM,SAAS;YAAC;YAAe;YAAiB;YAAgB;YAAgB;SAAc;QAC9F,OAAO,MAAM,CAAC,QAAQ,OAAO,MAAM,CAAC;IACtC;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;;0CACC,6LAAC;gCAAG,WAAU;0CAAkC;;;;;;0CAChD,6LAAC;gCAAE,WAAU;;oCAA8B,gBAAgB,MAAM;oCAAC;;;;;;;;;;;;;kCAEpE,6LAAC;wBAAI,WAAU;;0CACb,6LAAC,uMAAA,CAAA,QAAK;gCAAC,MAAM;gCAAI,WAAU;;;;;;0CAC3B,6LAAC;gCAAK,WAAU;0CAAuB;;;;;;;;;;;;;;;;;;0BAI3C,6LAAC;gBAAI,WAAU;0BACZ,gBAAgB,MAAM,GAAG,IACxB,gBAAgB,GAAG,CAAC,CAAC,UAAU;oBAC7B,MAAM,EAAE,MAAM,EAAE,KAAK,EAAE,GAAG,eAAe,SAAS,SAAS;oBAC3D,MAAM,cACJ,WAAW,YAAY,iDACvB,WAAW,cAAc,8CACzB;oBAEF,qBACE,6LAAC;wBAEC,WAAW,CAAC,uEAAuE,EACjF,WAAW,cAAc,+BAA+B,4BACxD;;0CAEF,6LAAC;gCAAI,WAAW,CAAC,mEAAmE,EAAE,cAAc,UAAU,OAAO,OAAO,CAAC,OAAO,uBAAuB,OAAO,CAAC,QAAQ,QAAQ,CAAC,EAAE,cAAc,UAAU,OAAO,OAAO,CAAC,QAAQ,QAAQ;;kDAC3O,6LAAC;wCAAK,WAAU;kDAAuC,WAAW,SAAS,SAAS,IAAI;;;;;;kDACxF,6LAAC;wCAAE,WAAU;kDAA2B,cAAc,SAAS,SAAS;;;;;;;;;;;;0CAG1E,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCAAI,WAAU;;0DACb,6LAAC;gDAAG,WAAU;0DACX,SAAS,SAAS,IAAI,SAAS,KAAK,IAAI;;;;;;0DAE3C,6LAAC;gDAAK,WAAW,CAAC,sCAAsC,EAAE,aAAa;0DACpE;;;;;;;;;;;;kDAIL,6LAAC;wCAAI,WAAU;;0DACb,6LAAC;gDAAI,WAAU;;kEACb,6LAAC,qMAAA,CAAA,OAAI;wDAAC,MAAM;wDAAI,WAAU;;;;;;kEAC1B,6LAAC;kEAAM,SAAS,YAAY,IAAI;;;;;;;;;;;;0DAElC,6LAAC;gDAAI,WAAU;;kEACb,6LAAC,6MAAA,CAAA,SAAM;wDAAC,MAAM;wDAAI,WAAU;;;;;;kEAC5B,6LAAC;;4DAAK;4DAAM,SAAS,QAAQ,IAAI;;;;;;;;;;;;;;;;;;;;;;;;;0CAKvC,6LAAC;gCAAI,WAAU;0CACb,cAAA,6LAAC;oCAAI,WAAW,CAAC,qBAAqB,EAAE,cAAc,UAAU,QAAQ;;;;;;;;;;;;uBAjCrE;;;;;gBAqCX,mBAEA,6LAAC;oBAAI,WAAU;;sCACb,6LAAC,6MAAA,CAAA,WAAQ;4BAAC,WAAU;;;;;;sCACpB,6LAAC;4BAAE,WAAU;sCAAyC;;;;;;;;;;;;;;;;;;;;;;;AAMlE;KA1IM;uCA4IS","debugId":null}},
    {"offset": {"line": 833, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Websites/Timetable-web/Components/Core/DashboardPage/dashboard.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport DailyUtilizationChart from './DailyUtilizationChart';\r\nimport StatCards from './StatCards';\r\nimport { \r\n  fetchTodaysSchedules, \r\n  fetchTotalClasses, \r\n  fetchActiveLecturers, \r\n  fetchTotalRooms, \r\n  fetchTotalTimetables,\r\n  fetchResourceUtilization\r\n} from \"../../Services/dashboardService\";\r\n\r\nimport { \r\n  Calendar, \r\n  Clock,\r\n  Bell,\r\n  BarChart2,\r\n  PieChart,\r\n  LogOut,\r\n  UserCircle,\r\n  ChevronDown\r\n} from 'lucide-react';\r\n\r\nimport Schedules from './Schedules';\r\n\r\nconst DashboardPage = () => {\r\n  const [dashboardData, setDashboardData] = useState({\r\n    schedules: [],\r\n    totalClasses: 0,\r\n    activeLecturers: 0,\r\n    totalRooms: 0,\r\n    totalTimetables: 0,\r\n    resourceUtilization: []\r\n  });\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [currentDate, setCurrentDate] = useState('');\r\n  const [showProfileMenu, setShowProfileMenu] = useState(false);\r\n  const [firstName, setFirstName] = useState('');\r\n  const [lastName, setLastName] = useState('');\r\n\r\n  useEffect(() => {\r\n    // Load user data from local storage\r\n    const storedFirstName = localStorage.getItem('firstName') || 'User';\r\n    const storedLastName = localStorage.getItem('lastName') || '';\r\n    console.log('Retrieved from localStorage:', { storedFirstName, storedLastName });\r\n    setFirstName(storedFirstName);\r\n    setLastName(storedLastName);\r\n  }, []);\r\n\r\n  const handleLogout = () => {\r\n    // Clear local storage and redirect to login page\r\n    localStorage.removeItem('firstName');\r\n    localStorage.removeItem('lastName');\r\n    window.location.href = '/login';\r\n  };\r\n\r\n  useEffect(() => {\r\n    // Set current date\r\n    const now = new Date();\r\n    setCurrentDate(now.toLocaleDateString('en-US', { \r\n      weekday: 'long', \r\n      year: 'numeric', \r\n      month: 'long', \r\n      day: 'numeric' \r\n    }));\r\n\r\n    const fetchData = async () => {\r\n      setIsLoading(true);\r\n      \r\n      try {\r\n        const [\r\n          classes, \r\n          lecturers, \r\n          rooms, \r\n          timetables, \r\n          schedulesData,\r\n          utilizationData\r\n        ] = await Promise.all([\r\n          fetchTotalClasses(),\r\n          fetchActiveLecturers(),\r\n          fetchTotalRooms(),\r\n          fetchTotalTimetables(),\r\n          fetchTodaysSchedules(),\r\n          fetchResourceUtilization()\r\n        ]);\r\n\r\n        setDashboardData({\r\n          schedules: schedulesData,\r\n          totalClasses: classes,\r\n          activeLecturers: lecturers,\r\n          totalRooms: rooms,\r\n          totalTimetables: timetables,\r\n          resourceUtilization: utilizationData\r\n        });\r\n      } catch (error) {\r\n        console.error(\"Error fetching dashboard data:\", error);\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n  }, []);\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center h-screen\">\r\n        <div className=\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500\"></div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"bg-gray-50 min-h-screen\">\r\n      {/* Top Bar */}\r\n      <div className=\"bg-white p-4 shadow-sm flex items-center justify-between\">\r\n        <div className=\"flex items-center\">\r\n          <h1 className=\"text-xl font-medium text-gray-800\">{currentDate}</h1>\r\n        </div>\r\n        <div className=\"flex items-center space-x-4\">\r\n          <button className=\"p-2 rounded-full hover:bg-gray-100 relative\">\r\n            <Bell size={20} />\r\n            <span className=\"absolute top-0 right-0 h-2 w-2 bg-red-500 rounded-full\"></span>\r\n          </button>\r\n          <div className=\"relative\">\r\n            <button \r\n              onClick={() => setShowProfileMenu(!showProfileMenu)} \r\n              className=\"flex items-center space-x-2 p-2 rounded-lg hover:bg-gray-100\"\r\n            >\r\n              <div className=\"h-8 w-8 rounded-full bg-blue-500 text-white flex items-center justify-center\">\r\n                <span className=\"text-sm font-medium\">\r\n                  {firstName.charAt(0)}{lastName.charAt(0)}\r\n                </span>\r\n              </div>\r\n              <span className=\"text-sm text-gray-700 hidden md:block\">\r\n                {firstName} {lastName}\r\n              </span>\r\n              <ChevronDown size={16} className=\"text-gray-500\" />\r\n            </button>\r\n            \r\n            {showProfileMenu && (\r\n              <div className=\"absolute right-0 top-full mt-1 w-48 bg-white rounded-lg shadow-lg py-1 z-10 border border-gray-100\">\r\n              \r\n                <button \r\n                  onClick={handleLogout}\r\n                  className=\"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 flex items-center\"\r\n                >\r\n                  <LogOut size={16} className=\"mr-2\" />\r\n                  Log Out\r\n                </button>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"container mx-auto p-4 flex flex-col min-h-[calc(100vh-64px)]\">\r\n        {/* Stat Cards */}\r\n        <div className=\"flex-grow\">\r\n          <StatCards dashboardData={dashboardData} />\r\n        </div>\r\n\r\n        <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6 flex-grow\">\r\n          {/* Today's Schedule */}\r\n          <div className=\"bg-white rounded-xl shadow-sm p-6 flex flex-col flex-grow\">\r\n            <Schedules schedules={dashboardData.schedules} />\r\n          </div>\r\n\r\n          {/* Daily Utilization */}\r\n          <div className=\"bg-white rounded-xl shadow-sm p-6 flex flex-col flex-grow\">\r\n            <div className=\"flex justify-between items-center mb-4\">\r\n              <h3 className=\"font-semibold text-gray-800\">Daily Utilization</h3>\r\n              <div className=\"flex space-x-2\">\r\n                <button className=\"p-1 rounded hover:bg-gray-100\">\r\n                  <BarChart2 size={18} />\r\n                </button>\r\n                <button className=\"p-1 rounded hover:bg-gray-100\">\r\n                  <PieChart size={18} />\r\n                </button>\r\n              </div>\r\n            </div>\r\n            <DailyUtilizationChart />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DashboardPage;"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1222, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Websites/Timetable-web/Components/Core/TimetablePage/DownloadPopup.jsx"],"sourcesContent":["import { useState, useEffect } from 'react';\r\nimport TimetableService from '../../Services/TimetableService';\r\n\r\nconst DownloadPopup = ({ isOpen, onClose, activeDay, daysWithDates }) => {\r\n  const [selectedType, setSelectedType] = useState('day');\r\n  const [selectedEntityId, setSelectedEntityId] = useState('');\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [downloadSuccess, setDownloadSuccess] = useState(null);\r\n  const [downloadAll, setDownloadAll] = useState(false);\r\n\r\n  // Data for dropdowns\r\n  const [lecturers, setLecturers] = useState([]);\r\n  const [classes, setClasses] = useState([]);\r\n  const [rooms, setRooms] = useState([]);\r\n\r\n  // Fetch data when component becomes visible\r\n  useEffect(() => {\r\n    if (isOpen) {\r\n      fetchEntities();\r\n    } else {\r\n      // Reset feedback message when component closes\r\n      setDownloadSuccess(null);\r\n    }\r\n  }, [isOpen]);\r\n\r\n  const fetchEntities = async () => {\r\n    setIsLoading(true);\r\n    try {\r\n      // Fetch all entity types in parallel\r\n      const [lecturersData, classesData, roomsData] = await Promise.all([\r\n        TimetableService.getLecturers(),\r\n        TimetableService.getClasses(),\r\n        TimetableService.getRooms()\r\n      ]);\r\n\r\n      setLecturers(lecturersData);\r\n      setClasses(classesData);\r\n      setRooms(roomsData);\r\n    } catch (error) {\r\n      console.error(\"Error fetching entities:\", error);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleDownload = async () => {\r\n    if (isLoading) return;\r\n\r\n    setIsLoading(true);\r\n    setDownloadSuccess(null);\r\n\r\n    try {\r\n      const dayIndex = daysWithDates.findIndex(day => day.name === activeDay) + 1;\r\n\r\n      let entityName;\r\n      let entityId = selectedEntityId;\r\n      if (selectedType === 'day') {\r\n        entityName = activeDay;\r\n      } else if (selectedType === 'lecturer') {\r\n        if (downloadAll) {\r\n          entityId = 'all';\r\n          entityName = 'All Lecturers';\r\n        } else {\r\n          const lecturer = lecturers.find(l => l.lecturerId === parseInt(selectedEntityId));\r\n          entityName = `${lecturer.firstName} ${lecturer.lastName}`;\r\n        }\r\n      } else if (selectedType === 'class') {\r\n        if (downloadAll) {\r\n          entityId = 'all';\r\n          entityName = 'All Classes';\r\n        } else {\r\n          const cls = classes.find(c => c.classId === parseInt(selectedEntityId));\r\n          entityName = cls.classCode;\r\n        }\r\n      } else if (selectedType === 'room') {\r\n        const room = rooms.find(r => r.roomId === parseInt(selectedEntityId));\r\n        entityName = room.roomName;\r\n      }\r\n\r\n      const success = await TimetableService.downloadEntityTimetable(\r\n        selectedType,\r\n        entityId,\r\n        dayIndex,\r\n        entityName\r\n      );\r\n\r\n      setDownloadSuccess(success);\r\n      if (success) {\r\n        setTimeout(() => onClose(), 1500);\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error during download:\", error);\r\n      setDownloadSuccess(false);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  if (!isOpen) return null;\r\n\r\n  return (\r\n    <div\r\n      className={`\r\n        border-t border-b border-gray-200 bg-gray-50\r\n        transition-transform duration-300 ease-in-out\r\n        ${isOpen ? \"translate-y-0 opacity-100\" : \"-translate-y-4 opacity-0\"}\r\n      `}\r\n    >\r\n      <div className=\"px-4 py-4\">\r\n        {/* Header */}\r\n        <div className=\"flex justify-between items-center mb-4\">\r\n          <h3 className=\"text-lg font-medium text-gray-900\">\r\n            Download Timetable\r\n          </h3>\r\n          <button\r\n            onClick={onClose}\r\n            className=\"p-1 rounded-full text-gray-600 hover:bg-gray-100 hover:text-gray-500 transition-colors focus:outline-none\"\r\n          >\r\n            <span className=\"sr-only\">Close</span>\r\n            <svg className=\"h-5 w-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M6 18L18 6M6 6l12 12\" />\r\n            </svg>\r\n          </button>\r\n        </div>\r\n\r\n        <div className=\"space-y-4\">\r\n          {/* Download Options Tabs */}\r\n          <div className=\"flex space-x-2 border-b border-gray-200\">\r\n            <button\r\n              className={`px-3 py-2 text-sm font-medium rounded-t-md ${\r\n                selectedType === 'day' \r\n                  ? 'bg-indigo-100 text-indigo-700 border-b-2 border-indigo-700'\r\n                  : 'text-gray-600 hover:text-indigo-700'\r\n              }`}\r\n              onClick={() => {\r\n                setSelectedType('day');\r\n                setSelectedEntityId('');\r\n                setDownloadAll(false);\r\n              }}\r\n            >\r\n              Entire Day\r\n            </button>\r\n            <button\r\n              className={`px-3 py-2 text-sm font-medium rounded-t-md ${\r\n                selectedType === 'lecturer' \r\n                  ? 'bg-indigo-100 text-indigo-700 border-b-2 border-indigo-700'\r\n                  : 'text-gray-600 hover:text-indigo-700'\r\n              }`}\r\n              onClick={() => {\r\n                setSelectedType('lecturer');\r\n                setSelectedEntityId('');\r\n                setDownloadAll(false);\r\n              }}\r\n            >\r\n              Lecturer\r\n            </button>\r\n            <button\r\n              className={`px-3 py-2 text-sm font-medium rounded-t-md ${\r\n                selectedType === 'class' \r\n                  ? 'bg-indigo-100 text-indigo-700 border-b-2 border-indigo-700'\r\n                  : 'text-gray-600 hover:text-indigo-700'\r\n              }`}\r\n              onClick={() => {\r\n                setSelectedType('class');\r\n                setSelectedEntityId('');\r\n                setDownloadAll(false);\r\n              }}\r\n            >\r\n              Class\r\n            </button>\r\n            <button\r\n              className={`px-3 py-2 text-sm font-medium rounded-t-md ${\r\n                selectedType === 'room' \r\n                  ? 'bg-indigo-100 text-indigo-700 border-b-2 border-indigo-700'\r\n                  : 'text-gray-600 hover:text-indigo-700'\r\n              }`}\r\n              onClick={() => {\r\n                setSelectedType('room');\r\n                setSelectedEntityId('');\r\n                setDownloadAll(false);\r\n              }}\r\n            >\r\n              Room\r\n            </button>\r\n          </div>\r\n\r\n          {/* Selection Context */}\r\n          {selectedType === 'day' && (\r\n            <div className=\"bg-white p-3 rounded-md border border-gray-200\">\r\n              <div className=\"flex items-center mb-2\">\r\n                <svg className=\"h-5 w-5 text-indigo-600 mr-2\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\" />\r\n                </svg>\r\n                <span className=\"font-medium text-gray-700\">Selected Day: <span className=\"text-indigo-700\">{activeDay}</span></span>\r\n              </div>\r\n              <p className=\"text-sm text-gray-600\">You will download the timetable for the entire day.</p>\r\n            </div>\r\n          )}\r\n\r\n          {/* Dropdown */}\r\n          {selectedType === 'lecturer' && (\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                Select Lecturer\r\n              </label>\r\n              <div className=\"flex items-center mb-2\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  id=\"downloadAllLecturers\"\r\n                  checked={downloadAll}\r\n                  onChange={(e) => setDownloadAll(e.target.checked)}\r\n                  className=\"mr-2\"\r\n                />\r\n                <label htmlFor=\"downloadAllLecturers\" className=\"text-sm text-gray-700\">\r\n                  Download for all lecturers\r\n                </label>\r\n              </div>\r\n              {!downloadAll && (\r\n                <select\r\n                  value={selectedEntityId}\r\n                  onChange={(e) => setSelectedEntityId(e.target.value)}\r\n                  className=\"w-full px-3 py-2 text-sm border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 bg-white text-gray-800\"\r\n                >\r\n                  <option value=\"\">-- Select --</option>\r\n                  {lecturers.map(lecturer => (\r\n                    <option key={lecturer.lecturerId} value={lecturer.lecturerId}>\r\n                      {lecturer.firstName} {lecturer.lastName}\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n              )}\r\n            </div>\r\n          )}\r\n\r\n          {selectedType === 'class' && (\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                Select Class\r\n              </label>\r\n              <div className=\"flex items-center mb-2\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  id=\"downloadAllClasses\"\r\n                  checked={downloadAll}\r\n                  onChange={(e) => setDownloadAll(e.target.checked)}\r\n                  className=\"mr-2\"\r\n                />\r\n                <label htmlFor=\"downloadAllClasses\" className=\"text-sm text-gray-700\">\r\n                  Download for all classes\r\n                </label>\r\n              </div>\r\n              {!downloadAll && (\r\n                <select\r\n                  value={selectedEntityId}\r\n                  onChange={(e) => setSelectedEntityId(e.target.value)}\r\n                  className=\"w-full px-3 py-2 text-sm border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 bg-white text-gray-800\"\r\n                >\r\n                  <option value=\"\">-- Select --</option>\r\n                  {classes.map(cls => (\r\n                    <option key={cls.classId} value={cls.classId}>\r\n                      {cls.classCode}\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n              )}\r\n            </div>\r\n          )}\r\n\r\n          {selectedType === 'room' && (\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                Select Room\r\n              </label>\r\n              <select\r\n                value={selectedEntityId}\r\n                onChange={(e) => setSelectedEntityId(e.target.value)}\r\n                className=\"w-full px-3 py-2 text-sm border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 bg-white text-gray-800\"\r\n              >\r\n                <option value=\"\">-- Select --</option>\r\n                {rooms.map(room => (\r\n                  <option key={room.roomId} value={room.roomId}>\r\n                    {room.roomName}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n          )}\r\n\r\n          {/* Status Messages */}\r\n          {downloadSuccess === false && (\r\n            <div className=\"p-3 bg-red-50 border border-red-200 text-red-700 rounded-md flex items-center\">\r\n              <svg className=\"h-5 w-5 text-red-500 mr-2\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n              </svg>\r\n              Failed to download timetable. Please try again.\r\n            </div>\r\n          )}\r\n\r\n          {downloadSuccess === true && (\r\n            <div className=\"p-3 bg-green-50 border border-green-200 text-green-700 rounded-md flex items-center\">\r\n              <svg className=\"h-5 w-5 text-green-500 mr-2\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M5 13l4 4L19 7\" />\r\n              </svg>\r\n              Timetable downloaded successfully!\r\n            </div>\r\n          )}\r\n\r\n          {/* Action Buttons */}\r\n          <div className=\"flex justify-end pt-2\">\r\n            <button\r\n              type=\"button\"\r\n              onClick={onClose}\r\n              className=\"bg-white py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 mr-3\"\r\n            >\r\n              Cancel\r\n            </button>\r\n            <button\r\n              type=\"button\"\r\n              onClick={handleDownload}\r\n              disabled={isLoading || (selectedType !== 'day' && !selectedEntityId && !downloadAll)}\r\n              className={`\r\n                py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white \r\n                focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 flex items-center\r\n                ${isLoading ? 'bg-indigo-400 cursor-not-allowed' : 'bg-indigo-600 hover:bg-indigo-700'}\r\n                ${(selectedType !== 'day' && !selectedEntityId && !downloadAll) ? 'opacity-50 cursor-not-allowed' : ''}\r\n              `}\r\n            >\r\n              {isLoading ? (\r\n                <>\r\n                  <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2\"></div>\r\n                  Downloading...\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <svg className=\"h-4 w-4 mr-2\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4\" />\r\n                  </svg>\r\n                  Download\r\n                </>\r\n              )}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DownloadPopup;"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1862, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Websites/Timetable-web/Components/Core/TimetablePage/timetable.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport TimetableService from \"../../Services/TimetableService\";\r\nimport DownloadPopup from \"./DownloadPopup\";\r\n\r\nconst TimetablePage = () => {\r\n  const [timetable, setTimetable] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [filterText, setFilterText] = useState(\"\");\r\n  const [generationTime, setGenerationTime] = useState(0);\r\n  const [loadingStartTime, setLoadingStartTime] = useState(null);\r\n  const [elapsedLoadingTime, setElapsedLoadingTime] = useState(0);\r\n  // New state for download popup\r\n  const [downloadPopupOpen, setDownloadPopupOpen] = useState(false);\r\n\r\n  // Animation state\r\n  const [animate, setAnimate] = useState(false);\r\n  \r\n  // Get today's day name and set as active day\r\n  const getTodayDayName = () => {\r\n    const days = [\"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"];\r\n    const todayIndex = new Date().getDay();\r\n    // Adjust index to start from Monday (0 = Monday, 1 = Tuesday, ..., 5 = Saturday)\r\n    const adjustedIndex = (todayIndex === 0 ? 6 : todayIndex - 1);\r\n    return days[adjustedIndex];\r\n  };\r\n  \r\n  // Set today as active day\r\n  const [activeDay, setActiveDay] = useState(getTodayDayName());\r\n\r\n  // Get date for each day of the week\r\n  const getDatesForWeek = () => {\r\n    const today = new Date();\r\n    const currentDay = today.getDay(); // 0 = Sunday, 1 = Monday, etc.\r\n    const days = [\"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"];\r\n    \r\n    // Create array of day objects with names and dates\r\n    return days.map((day, index) => {\r\n      const diff = index - currentDay;\r\n      const date = new Date(today);\r\n      date.setDate(today.getDate() + diff);\r\n      \r\n      return {\r\n        name: day,\r\n        date: date,\r\n        dateFormatted: `${date.getDate()}/${date.getMonth() + 1}`\r\n      };\r\n    });\r\n  };\r\n  \r\n  const daysWithDates = getDatesForWeek();\r\n\r\n  useEffect(() => {\r\n    const fetchTimetable = async () => {\r\n      setLoading(true);\r\n      const data = await TimetableService.getTimetable();\r\n      setTimetable(data);\r\n      setLoading(false);\r\n      // Trigger animation when data loads\r\n      setTimeout(() => setAnimate(true), 100);\r\n    };\r\n    fetchTimetable();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    // Reset animation when active day changes\r\n    setAnimate(false);\r\n    setTimeout(() => setAnimate(true), 50);\r\n  }, [activeDay]);\r\n\r\n  useEffect(() => {\r\n    let interval = null;\r\n    if (loadingStartTime) {\r\n      interval = setInterval(() => {\r\n        setElapsedLoadingTime(((Date.now() - loadingStartTime) / 1000).toFixed(2));\r\n      }, 100);\r\n    } else {\r\n      setElapsedLoadingTime(0);\r\n      clearInterval(interval);\r\n    }\r\n    return () => clearInterval(interval);\r\n  }, [loadingStartTime]);\r\n\r\n  const generateTimetable = async () => {\r\n    setLoading(true);\r\n    setLoadingStartTime(Date.now());\r\n    const startTime = Date.now();\r\n    await TimetableService.generateTimetable();\r\n    const data = await TimetableService.getTimetable();\r\n    setTimetable(data);\r\n    setLoading(false);\r\n    setLoadingStartTime(null);\r\n    const endTime = Date.now();\r\n    setGenerationTime(((endTime - startTime) / 1000).toFixed(2));\r\n    setTimeout(() => setAnimate(true), 100);\r\n  };\r\n\r\n  const refreshTimetable = async () => {\r\n    setLoading(true);\r\n    const data = await TimetableService.getTimetable();\r\n    setTimetable(data);\r\n    setLoading(false);\r\n    setTimeout(() => setAnimate(true), 100);\r\n  };\r\n\r\n  // Improved time mapping with more precise time slots\r\n  const timeSlots = [\r\n    { time24: \"07:00\", time12: \"7:00 AM\" },\r\n    { time24: \"08:00\", time12: \"8:00 AM\" },\r\n    { time24: \"09:00\", time12: \"9:00 AM\" },\r\n    { time24: \"10:00\", time12: \"10:00 AM\" },\r\n    { time24: \"11:00\", time12: \"11:00 AM\" },\r\n    { time24: \"12:00\", time12: \"12:00 PM\" },\r\n    { time24: \"13:00\", time12: \"1:00 PM\" },\r\n    { time24: \"14:00\", time12: \"2:00 PM\" },\r\n    { time24: \"15:00\", time12: \"3:00 PM\" },\r\n    { time24: \"16:00\", time12: \"4:00 PM\" },\r\n    { time24: \"17:00\", time12: \"5:00 PM\" },\r\n    { time24: \"18:00\", time12: \"6:00 PM\" },\r\n    { time24: \"19:00\", time12: \"7:00 PM\" },\r\n    { time24: \"20:00\", time12: \"8:00 PM\" },\r\n  ];\r\n\r\n// Get improved color scheme for entries\r\nconst getColorScheme = (courseName) => {\r\n  const colorPalette = [\r\n    { bg: \"bg-blue-50\", border: \"border-blue-500\", text: \"text-blue-800\" },\r\n    { bg: \"bg-green-50\", border: \"border-green-500\", text: \"text-green-800\" },\r\n    { bg: \"bg-purple-50\", border: \"border-purple-500\", text: \"text-purple-800\" },\r\n    { bg: \"bg-yellow-50\", border: \"border-yellow-500\", text: \"text-yellow-800\" },\r\n    { bg: \"bg-teal-50\", border: \"border-teal-500\", text: \"text-teal-800\" },\r\n    { bg: \"bg-indigo-50\", border: \"border-indigo-500\", text: \"text-indigo-800\" },\r\n    { bg: \"bg-cyan-50\", border: \"border-cyan-500\", text: \"text-cyan-800\" },\r\n    { bg: \"bg-emerald-50\", border: \"border-emerald-500\", text: \"text-emerald-800\" },\r\n    { bg: \"bg-lime-50\", border: \"border-lime-500\", text: \"text-lime-800\" },\r\n    { bg: \"bg-sky-50\", border: \"border-sky-500\", text: \"text-sky-800\" },\r\n    { bg: \"bg-violet-50\", border: \"border-violet-500\", text: \"text-violet-800\" },\r\n    { bg: \"bg-gray-50\", border: \"border-gray-500\", text: \"text-gray-800\" },\r\n    { bg: \"bg-stone-50\", border: \"border-stone-500\", text: \"text-stone-800\" },\r\n    { bg: \"bg-amber-50\", border: \"border-amber-500\", text: \"text-amber-800\" }, // Yellowish-orange\r\n    { bg: \"bg-fuchsia-50\", border: \"border-fuchsia-500\", text: \"text-fuchsia-800\" },\r\n  ];\r\n\r\n  // Create a consistent hash based on the course name\r\n  const hash = courseName.split(\"\").reduce((acc, char) => acc + char.charCodeAt(0), 0);\r\n  \r\n  // Assign a color based on the hash\r\n  return colorPalette[hash % colorPalette.length];\r\n};\r\n\r\n\r\n\r\n  // Filter timetable entries based on search text\r\n  const filteredTimetable = timetable.filter(entry => {\r\n    if (!filterText) return true;\r\n    \r\n    const searchText = filterText.toLowerCase();\r\n    return (\r\n      entry.courseName?.toLowerCase().includes(searchText) ||\r\n      entry.lecturerName?.toLowerCase().includes(searchText) ||\r\n      entry.roomName?.toLowerCase().includes(searchText) ||\r\n      entry.programName?.toLowerCase().includes(searchText) ||\r\n      entry.className?.toLowerCase().includes(searchText) ||\r\n      entry.periodName?.toLowerCase().includes(searchText)\r\n    );\r\n  });\r\n\r\n  // Group entries by start time for the active day\r\n  const groupedByTime = timeSlots.map(slot => {\r\n    const entriesAtTime = filteredTimetable.filter(\r\n      entry => entry.dayName === activeDay && entry.startTime === slot.time24\r\n    );\r\n    \r\n    return {\r\n      ...slot,\r\n      entries: entriesAtTime\r\n    };\r\n  }).filter(group => group.entries.length > 0);\r\n\r\n  // Render a single timetable entry card\r\n  const renderTimetableCard = (entry, index) => {\r\n    const colorScheme = getColorScheme(entry.courseName);\r\n    \r\n    // Calculate animation delay based on index\r\n    const animationDelay = `${index * 0.05}s`;\r\n    \r\n    return (\r\n      <div\r\n        key={`${entry.courseName}-${entry.roomName}-${index}`}\r\n        style={{ \r\n          animationDelay, \r\n          animationDuration: \"0.4s\",\r\n          opacity: animate ? 1 : 0,\r\n          transform: animate ? \"translateY(0)\" : \"translateY(20px)\"\r\n        }}\r\n        className={`\r\n          ${colorScheme.bg} ${colorScheme.text}\r\n          rounded-lg p-4 mb-3 border-l-4 ${colorScheme.border}\r\n          transition-all duration-300\r\n          animate-in fade-in slide-in-from-bottom\r\n          shadow-sm hover:shadow-md\r\n        `}\r\n      >\r\n        {/* Header Section with Course and Room */}\r\n        <div className=\"flex justify-between items-center mb-3\">\r\n          <h3 className=\"font-bold text-base flex-1 truncate\">{entry.courseName}</h3>\r\n          <span className=\"bg-white/80 text-gray-800 px-3 py-1 rounded-full text-xs font-medium ml-2 flex items-center\">\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-3 w-3 mr-1\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4\" />\r\n            </svg>\r\n            {entry.roomName}\r\n          </span>\r\n        </div>\r\n        \r\n        {/* Middle Section with Lecturer */}\r\n        <div className=\"flex items-center text-sm mb-3 pb-2 border-b border-gray-200/30\">\r\n          <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-4 w-4 mr-2\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\" />\r\n          </svg>\r\n          <span className=\"font-medium\">{entry.lecturerName}</span>\r\n        </div>\r\n        \r\n        {/* Bottom Section with Class Details */}\r\n        <div className=\"flex justify-between items-center text-xs\">\r\n          <div className=\"flex items-center\">\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-3 w-3 mr-1\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\" />\r\n            </svg>\r\n            <span className=\"font-medium\">{entry.className} - {entry.periodName}</span>\r\n          </div>\r\n          <div className=\"max-w-[50%] truncate text-right opacity-75\">\r\n            {entry.programName}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  // Open the download popup\r\n  const handleOpenDownloadPopup = () => {\r\n    setDownloadPopupOpen((prev) => !prev); // Toggle the state\r\n  };\r\n\r\n  return (\r\n    <div className=\"bg-gray-50 min-h-screen p-4\">\r\n      {/* Clean, simplified container without nested shadows */}\r\n      <div className=\"w-full mx-auto bg-white border rounded-lg\">\r\n        {/* Header */}\r\n        <div className=\"p-4 border-b\">\r\n          <div className=\"flex flex-col lg:flex-row justify-between items-center gap-4\">\r\n            {/* Search bar */}\r\n            <div className=\"relative w-full lg:w-2/3\">\r\n              <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\r\n                <svg className=\"h-5 w-5 text-gray-400\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\r\n                  <path fillRule=\"evenodd\" d=\"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z\" clipRule=\"evenodd\" />\r\n                </svg>\r\n              </div>\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"Filter timetable...\"\r\n                value={filterText}\r\n                onChange={(e) => setFilterText(e.target.value)}\r\n                className=\"pl-10 pr-4 py-2 w-full text-sm rounded-lg border border-gray-300 text-gray-800 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\"\r\n              />\r\n              {filterText && (\r\n                <button\r\n                  onClick={() => setFilterText(\"\")}\r\n                  className=\"absolute inset-y-0 right-0 pr-3 flex items-center\"\r\n                >\r\n                  <svg className=\"h-5 w-5 text-gray-400 hover:text-gray-600\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\r\n                    <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 101.414 1.414L10 11.414l1.293 1.293a1 1 001.414-1.414L11.414 10l1.293-1.293a1 1 00-1.414-1.414L10 8.586 8.707 7.293z\" clipRule=\"evenodd\" />\r\n                  </svg>\r\n                </button>\r\n              )}\r\n            </div>\r\n\r\n            {/* Action Buttons */}\r\n            <div className=\"flex flex-wrap gap-4 lg:w-1/3 justify-end\">\r\n              <button\r\n                onClick={generateTimetable}\r\n                disabled={loading}\r\n                className={`\r\n                  px-3 py-2 rounded-lg text-sm font-medium \r\n                  transition-all\r\n                  ${loading \r\n                    ? \"bg-gray-300 text-gray-500 cursor-not-allowed\" \r\n                    : \"bg-green-100 text-green-600 hover:bg-green-200\"\r\n                  }\r\n                `}\r\n              >\r\n                {loading ? \"Generating...\" : \"Generate\"}\r\n              </button>\r\n              <button\r\n                onClick={refreshTimetable}\r\n                disabled={loading}\r\n                className={`\r\n                  px-3 py-2 rounded-lg text-sm font-medium \r\n                  transition-all\r\n                  ${loading \r\n                    ? \"bg-gray-300 text-gray-500 cursor-not-allowed\" \r\n                    : \"bg-blue-100 text-blue-600 hover:bg-blue-200\"\r\n                  }\r\n                `}\r\n              >\r\n                {loading ? \"Refreshing...\" : \"Refresh\"}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Day Tabs with Dates */}\r\n        <div className=\"flex overflow-x-auto border-b scrollbar-hide\">\r\n          <div className=\"flex\">\r\n            {daysWithDates.map(dayInfo => (\r\n              <button\r\n                key={dayInfo.name}\r\n                onClick={() => setActiveDay(dayInfo.name)}\r\n                className={`\r\n                  px-6 py-3 text-sm font-medium rounded-lg transition-all duration-200 \r\n                  flex flex-col items-center border-b-2 shadow-sm \r\n                  ${activeDay === dayInfo.name \r\n                    ? \"border-indigo-500 text-indigo-600 bg-indigo-100 shadow-md\" \r\n                    : \"border-transparent text-gray-600 hover:text-gray-900 hover:bg-gray-100\"\r\n                  }\r\n                `}\r\n              >\r\n                <span>{dayInfo.name}</span>\r\n                <span className=\"text-xs mt-1 opacity-80\">{dayInfo.dateFormatted}</span>\r\n              </button>\r\n            ))}\r\n          </div>\r\n          <div className=\"ml-auto\">\r\n            <button\r\n              type=\"button\"\r\n              onClick={handleOpenDownloadPopup}\r\n              className={`\r\n                p-3 rounded-md shadow-sm text-sm font-medium text-white \r\n                focus:outline-none  focus:ring-offset-2 focus:ring-indigo-500 flex items-center\r\n                ${downloadPopupOpen ? 'bg-indigo-400 cursor-not-allowed' : 'bg-indigo-600 hover:bg-indigo-700'}\r\n              `}\r\n            >\r\n              {downloadPopupOpen ? (\r\n                <>\r\n                  <svg className=\"h-4 w-4 mr-2\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M6 18L18 6M6 6l12 12\" />\r\n                  </svg>\r\n                  Hide Download\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <svg className=\"h-4 w-4 mr-2\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4\" />\r\n                  </svg>\r\n                  Download\r\n                </>\r\n              )}\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Download Section - Now with animation */}\r\n        <div\r\n          className={`\r\n            transition-all duration-300 ease-in-out overflow-hidden\r\n            ${downloadPopupOpen ? \"max-h-screen opacity-100\" : \"max-h-0 opacity-0\"}\r\n          `}\r\n        >\r\n          {downloadPopupOpen && (\r\n            <DownloadPopup \r\n              isOpen={downloadPopupOpen}\r\n              onClose={() => setDownloadPopupOpen(false)}\r\n              activeDay={activeDay}\r\n              daysWithDates={daysWithDates}\r\n            />\r\n          )}\r\n        </div>\r\n\r\n        {/* Loading State */}\r\n        {loading && (\r\n          <div className=\"flex flex-col justify-center items-center h-64\">\r\n            {/* Clean loading indicator */}\r\n            <div className=\"flex flex-col items-center p-6\">\r\n              <div className=\"animate-spin rounded-full h-10 w-10 border-t-2 border-b-2 border-indigo-600\"></div>\r\n              {loadingStartTime && (\r\n                <div className=\"text-gray-600 text-sm mt-4 inline-flex items-center bg-indigo-50 px-3 py-1 rounded-full\">\r\n                  <svg className=\"h-4 w-4 mr-1 text-indigo-500\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n                  </svg>\r\n                  <span>{elapsedLoadingTime}s</span>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Empty States */}\r\n        {!loading && timetable.length === 0 && (\r\n          <div className=\"p-10 text-center\">\r\n            <p className=\"text-gray-500\">\r\n              No timetable data available. Click Generate or Refresh to load data.\r\n            </p>\r\n          </div>\r\n        )}\r\n\r\n        {!loading && timetable.length > 0 && filteredTimetable.filter(entry => entry.dayName === activeDay).length === 0 && (\r\n          <div className=\"p-10 text-center\">\r\n            <p className=\"text-gray-500\">\r\n              {filterText \r\n                ? \"No matching entries for this day. Try adjusting your filter.\"\r\n                : \"No classes scheduled for this day.\"}\r\n            </p>\r\n          </div>\r\n        )}\r\n\r\n        {/* Timetable Content */}\r\n        {!loading && filteredTimetable.filter(entry => entry.dayName === activeDay).length > 0 && (\r\n          <div className=\"p-4 transition-all duration-300\">\r\n            {groupedByTime.map((timeGroup) => (\r\n              <div key={timeGroup.time24} className=\"mb-6\">\r\n                {/* Time Header - Simple and clean */}\r\n                <div className=\"flex items-center mb-3\">\r\n                  <div className=\"w-8 h-8 rounded-full bg-indigo-100 flex items-center justify-center mr-3\">\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-4 w-4 text-indigo-600\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n                    </svg>\r\n                  </div>\r\n                  <h3 className=\"text-md font-medium text-gray-800\">{timeGroup.time12}</h3>\r\n                </div>\r\n                \r\n                {/* Cards Grid */}\r\n                <div className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4\">\r\n                  {timeGroup.entries.map((entry, index) => \r\n                    renderTimetableCard(entry, index)\r\n                  )}\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n\r\n        {/* Generation Timer - Clean and minimal */}\r\n        {generationTime > 0 && (\r\n          <div className=\"border-t py-2 flex justify-center\">\r\n            <div className=\"text-sm text-gray-500 flex items-center\">\r\n              <svg className=\"h-4 w-4 mr-1 text-green-500\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 10V3L4 14h7v7l9-11h-7z\" />\r\n              </svg>\r\n              Generated in {generationTime}s\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Download Popup */}\r\n      <DownloadPopup \r\n        isOpen={downloadPopupOpen}\r\n        onClose={() => setDownloadPopupOpen(false)}\r\n        activeDay={activeDay}\r\n        daysWithDates={daysWithDates}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TimetablePage;"],"names":[],"mappings":"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","debugId":null}}]
}